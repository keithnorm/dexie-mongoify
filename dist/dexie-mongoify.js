!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var o=e(75),i=e(33);o.Collection=i,o.addons.push(function(t){t._getConn=function(t){var n=this.backendDB();n?t(null,n):n.open().then(function(){t(null,this.backendDB())})},o.prototype.collection=function(n){return new i(t,n)},i.prototype.insert=function(n){return function(e){var o=this,i=t[this._name].schema.primKey.keyPath;return t[this._name].get(e[i]).then(function(t){return t?o.update(r({},i,e[i]),e):n.call(o,e)})}}(i.prototype.insert),Object.assign(t.Table.prototype,i.prototype)}),t.exports=o},function(t,n,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(22),i=e(21),u=e(94),a=function(t){return t.split(".")},c=function(t,n){for(var e=0;e<n.length-1;e++){var r=n[e];if(!t.hasOwnProperty(r))return;if(t=t[r],!p(t))return}if(t.hasOwnProperty(n[e]))return t},s=function(t,n){return!!c(t,n)},f=function(t,n,e){for(var r=e;r<n.length-1;r++)t[n[r]]={},t=t[n[r]];return t},l=function(t,n,e){(t=c(t,n))&&e(t,n[n.length-1])},h=function(t,n,e){var r=function(t,n){return t[n]=e};y(t,n,r,r)},p=function(t){return"object"===("undefined"==typeof t?"undefined":r(t))&&null!==t},y=function(t,n,e,r){var o=n[n.length-1],i=function(e){t=f(t,n,e),r(t,o)};if(!t.hasOwnProperty(n[0]))return i(0);if(n.length>1){t=t[n[0]];for(var u=1;u<n.length-1;u++){var a=n[u];if(!p(t[a]))return;if(Array.isArray(t)&&a<0)return;if(!t.hasOwnProperty(a))return i(u);t=t[a]}}e(t,o)},d=function(t,n){for(var e=0;e<n.length-1;e++)if(t=t[n[e]],!p(t))return;if(Array.isArray(t)){var r=Number.parseFloat(n[e]);Number.isInteger(r)&&t.splice(r,1)}else delete t[n[e]]},v=function t(n,e,r){var o=function(o){var u=[],a=!0,c=!1,s=void 0;try{for(var f,l=r[Symbol.iterator]();!(a=(f=l.next()).done);a=!0){var h=f.value;if(h[0]===o){if(1===h.length)return;u.push(h.slice(1))}}}catch(t){c=!0,s=t}finally{try{!a&&l.return&&l.return()}finally{if(c)throw s}}if(u.length){var p=n[o];e[o]=new p.constructor,t(p,e[o],u)}else e[o]=i(n[o])};for(var u in n)o(u)},g=function(t,n){var e=new t.constructor;return v(t,e,n),e},m=function(t,n,e){l(t,n,function(t,n){t[e]=t[n],delete t[n]})},b=function(t,n,e){for(var r=0;r<e.length-1;r++){var o=e[r];if(t=t[o],!p(t))return;n[o]=new t.constructor,n=n[o]}if(t.hasOwnProperty(e[r]))return n[e[r]]=t[e[r]],t},_=function(t,n){var e=[],r=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value,f=new t.constructor;b(t,f,s)&&e.push(f)}}catch(t){i=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw u}}return e.reduce(o,{})},w=function(t,n){return O(t)===O(n)},x=function(t){throw Error("unknown operator '"+t+"'")},O=function(t){if(void 0!==t)return u(t)},k=function(t){return Error(t.target.error.message)};t.exports.toPathPieces=a,t.exports.exists=s,t.exports.create=f,t.exports.get=l,t.exports.set=h,t.exports.isObject=p,t.exports.modify=y,t.exports.remove1=d,t.exports.remove2=g,t.exports.rename=m,t.exports.copy=_,t.exports.equal=w,t.exports.unknownOp=x,t.exports.hashify=O,t.exports.getIDBError=k},function(t,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,n,e){"use strict";var r=e(56),o=Math.max;t.exports=function(t){return o(0,r(t))}},function(t,n){"use strict"},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(29),u=e(1),a=u.get,c=e(9),s=function(){function t(n){r(this,t),this._doc=n,this.get=i(this.get)}return o(t,[{key:"get",value:function(t){var n=c;return a(this._doc,t.pieces,function(t,e){n=t[e]}),n}},{key:"ensure",value:function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value;if(this.get(u)===c)return!1}}catch(t){e=!0,r=t}finally{try{!n&&i.return&&i.return()}finally{if(e)throw r}}return!0}}]),t}();t.exports=s},function(t,n){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,n,e){"use strict";var r,o=e(24),i=e(27),u=e(60),a=e(64);r=t.exports=function(t,n){var e,r,u,c,s;return arguments.length<2||"string"!=typeof t?(c=n,n=t,t=null):c=arguments[2],null==t?(e=u=!0,r=!1):(e=a.call(t,"c"),r=a.call(t,"e"),u=a.call(t,"w")),s={value:n,configurable:e,enumerable:r,writable:u},c?o(i(c),s):s},r.gs=function(t,n,e){var r,c,s,f;return"string"!=typeof t?(s=e,e=n,n=t,t=null):s=arguments[3],null==n?n=void 0:u(n)?null==e?e=void 0:u(e)||(s=e,e=void 0):(s=n,n=e=void 0),null==t?(r=!0,c=!1):(r=a.call(t,"c"),c=a.call(t,"e")),f={get:n,set:e,configurable:r,enumerable:c},s?o(i(s),f):f}},function(t,n,e){"use strict";t.exports=e(57)("forEach")},function(t,n){"use strict";t.exports=Symbol("missing")},function(t,n,e){"use strict";var r=e(3),o=e(6),i=Array.prototype.indexOf,u=Object.prototype.hasOwnProperty,a=Math.abs,c=Math.floor;t.exports=function(t){var n,e,s,f;if(t===t)return i.apply(this,arguments);for(e=r(o(this).length),s=arguments[1],s=isNaN(s)?0:s>=0?c(s):r(this.length)-c(a(s)),n=s;n<e;++n)if(u.call(this,n)&&(f=this[n],f!==f))return n;return-1}},function(t,n,e){"use strict";t.exports=e(46)()?Array.from:e(47)},function(t,n,e){(function(n,e){"use strict";var r,o;r=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},o=function(t){var n,e,o=document.createTextNode(""),i=0;return new t(function(){var t;if(n)e&&(n=e.concat(n));else{if(!e)return;n=e}if(e=n,n=null,"function"==typeof e)return t=e,e=null,void t();for(o.data=i=++i%2;e;)t=e.shift(),e.length||(e=null),t()}).observe(o,{characterData:!0}),function(t){return r(t),n?void("function"==typeof n?n=[n,t]:n.push(t)):(n=t,void(o.data=i=++i%2))}},t.exports=function(){if("object"==typeof n&&n&&"function"==typeof n.nextTick)return n.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return o(MutationObserver);if("function"==typeof WebKitMutationObserver)return o(WebKitMutationObserver)}return"function"==typeof e?function(t){e(r(t))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(t){setTimeout(r(t),0)}:null}()}).call(n,e(13),e(14).setImmediate)},function(t,n){function e(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===e||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(n){try{return f.call(null,t,0)}catch(n){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&p&&(d=!1,p.length?y=p.concat(y):v=-1,y.length&&a())}function a(){if(!d){var t=o(u);d=!0;for(var n=y.length;n;){for(p=y,y=[];++v<n;)p&&p[v].run();v=-1,n=y.length}p=null,d=!1,i(t)}}function c(t,n){this.fun=t,this.array=n}function s(){}var f,l,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:e}catch(t){f=e}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var p,y=[],d=!1,v=-1;h.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];y.push(new c(t,n)),1!==y.length||d||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,n,e){function r(t,n){this._id=t,this._clearFn=n}var o=Function.prototype.apply;n.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},n))},e(95),n.setImmediate=setImmediate,n.clearImmediate=clearImmediate},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(74),c=e(31),s=e(34),f=e(16),l=e(38),h=e(35),p=e(19),y=e(41),d=e(20),v=e(40),g=e(37),m=function(t){function n(t,e){r(this,n);var i=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i._col=t,i._read_pref=e,i._pipeline=[],i._next=i._init,i}return i(n,t),u(n,[{key:"_forEach",value:function(t,n){var e=this;this._next(function(r,o){o?(t(o),e.emit("data",o),e._forEach(t,n)):(e.emit("end"),n(r))})}},{key:"forEach",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments[1],e=c.defer();return this._forEach(t,function(t){t?e.reject(t):e.resolve()}),e.promise.nodeify(n),e.promise}},{key:"_toArray",value:function(t){var n=[];this._forEach(function(t){n.push(t)},function(e){return t(e,n)})}},{key:"toArray",value:function(t){var n=c.defer();return this._toArray(function(t,e){t?n.reject(t):n.resolve(e)}),n.promise.nodeify(t),n.promise}},{key:"_assertUnopened",value:function(){if(this._opened)throw Error("cursor has already been opened")}},{key:"hint",value:function(t){if(this._assertUnopened(),!this._col._isIndexed(t))throw Error("index '"+t+"' does not exist");return this._hint=t,this}},{key:"_addStage",value:function(t,n){return this._assertUnopened(),this._pipeline.push([t,n]),this}},{key:"filter",value:function(t){return this._addStage(f,t)}},{key:"limit",value:function(t){return this._addStage(g,t)}},{key:"skip",value:function(t){return this._addStage(v,t)}},{key:"project",value:function(t){return this._addStage(l,t)}},{key:"group",value:function(t){return this._addStage(h,t)}},{key:"lookup",value:function(t){return t.db=this._col._db,this._addStage(p,t)}},{key:"unwind",value:function(t){return this._addStage(y,t)}},{key:"sort",value:function(t){return this._addStage(d,t)}},{key:"_init",value:function(t){this._opened=!0,this._next=s(this),this._next(t)}}]),n}(a);t.exports=m},function(t,n,e){"use strict";var r=e(5);t.exports=function(t,n){return function(e){!function o(){t(function(t,i,u,a){i?n.run(new r(i))?e(null,i,u,a):o():e(t)})}()}}},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c=e(1),s=c.unknownOp,f=e(9),l=e(18),h=function(){function t(n){u(this,t),this.value=n}return a(t,[{key:"run",value:function(){return this.value}},{key:"ResultType",get:function(){return this.constructor}}],[{key:"any",value:function(n){return"number"==typeof n?new p(n):"string"==typeof n?new y(n):Array.isArray(n)?new d(n):n instanceof Date?new v(n):new t(n)}},{key:"literal",value:function(n){return new g(t.any(n))}}]),t}(),p=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,null,[{key:"isType",value:function(t){return"number"==typeof t}}]),n}(h),y=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,null,[{key:"isType",value:function(t){return"string"==typeof t}}]),n}(h),d=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,null,[{key:"isType",value:function(t){return Array.isArray(t)}}]),n}(h),v=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,null,[{key:"isType",value:function(t){return t instanceof Date}}]),n}(h),g=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,[{key:"run",value:function(){return this.value.run()}},{key:"ResultType",get:function(){return this.value.ResultType}}]),n}(h),m=function(){function t(n){u(this,t),this.path=n}return a(t,[{key:"run",value:function(t){var n=t.get(this.path);return n===f?null:n}}]),t}(),b=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,[{key:"run",value:function(t){var n={},e=this.value;for(var r in e)n[r]=e[r].run(t);return n}}]),n}(h),_=function(){function t(){u(this,t),this.args=[]}return a(t,[{key:"add",value:function(t){this.args.push(t)}},{key:"alt",get:function(){return new h(null)}}]),t}(),w=function(t){function n(t){u(this,n);var e=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.fn=t,e}return i(n,t),a(n,[{key:"run",value:function(t){var n=this.args,e=this.fn;return n.map(function(n){return n.run(t)}).reduce(e)}},{key:"length",get:function(){return 1/0}}]),n}(_),x=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,[{key:"run",value:function(t){return this.fn(this.args[0].run(t))}},{key:"length",get:function(){return 1}}]),n}(w),O=function(t,n){return function(t){function e(){return u(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return i(e,t),e}(t)},k=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,r=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(t);return r.prototype.InputType=n,r.prototype.ResultType=e,r},j=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(k(w,p)),E=function(t){return O(j,t)},A=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(E(function(t,n){return t+n})),S=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(E(function(t,n){return t-n})),P=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(E(function(t,n){return t*n})),T=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(E(function(t,n){return t/n})),I=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(E(function(t,n){return t%n})),B=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,[{key:"run",value:function(t){return this.fn.apply(this,r(this.args.map(function(n){return n.run(t)})))}},{key:"length",get:function(){return this.fn.length}}]),n}(k(w,p)),C=function(t){return O(B,t)},R=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(C(Math.abs)),D=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(C(Math.ceil)),U=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(C(Math.floor)),M=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(C(Math.log)),L=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(C(Math.log10)),N=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(C(Math.pow)),F=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(C(Math.sqrt)),$=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(C(Math.trunc)),K=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(k(w,y)),Y=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(O(K,function(t,n){return t+n})),z=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),a(n,[{key:"alt",get:function(){return new y("")}}]),n}(k(x,y)),q=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(O(z,function(t){return t.toLowerCase()})),V=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(O(z,function(t){return t.toUpperCase()})),W=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(k(w,d)),H=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(O(W,function(t,n){return t.concat(n)})),Q=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(k(x,v,p)),J=function(t){return O(Q,t)},X=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(J(function(t){return t.getDate()})),G=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(J(function(t){return t.getUTCFullYear()})),Z=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(J(function(t){return t.getUTCMonth()+1})),tt=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(J(function(t){return t.getUTCHours()})),nt=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(J(function(t){return t.getUTCMinutes()})),et=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(J(function(t){return t.getUTCSeconds()})),rt=function(t){function n(){return u(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),n}(J(function(t){return t.getUTCMilliseconds()})),ot=function(){function t(n,e,r){u(this,t);var o=r.InputType,i=r.alt;this.result_types=new Set([r.ResultType,i.ResultType]),this.stack=n,this.isType=o.isType,this.args=e,this.op=r,this.alt_value=i.value}return a(t,[{key:"run",value:function(t){var n=this.stack,e=this.isType,r=this.op,o=[],i=!0,u=!1,a=void 0;try{for(var c,s=this.args[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var f=c.value,l=f.run(t);if(!e(l))return this.alt_value;o.push(l)}}catch(t){u=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(u)throw a}}for(var h=o.length-1;h>=0;h--)n.push(o[h]);return r.run(t)}}]),t}(),it=function(){function t(n){u(this,t),this.stack=n}return a(t,[{key:"run",value:function(){return this.stack.pop()}}]),t}(),ut={$add:A,$subtract:S,$multiply:P,$divide:T,$mod:I,$abs:R,$ceil:D,$floor:U,$ln:M,$log10:L,$pow:N,$sqrt:F,$trunc:$,$concat:Y,$toLower:q,$toUpper:V,$concatArrays:H,$dayOfMonth:X,$year:G,$month:Z,$hour:tt,$minute:nt,$second:et,$millisecond:rt},at=function(t,n,e){var r=ut[n];r||s(n),Array.isArray(e)||(e=[e]);for(var o=new r,i=[],u=[],a=[],c=0;c<e.length&&c<o.length;c++){var f=st(u,e[c]);if(f.ResultType){if(f.ResultType!==o.InputType)return o.alt;o.add(f)}else{if(f instanceof ot){if(!f.result_types.has(o.InputType))return o.alt;if(1===f.result_types.size){o.add(f);continue}}i.push(f),o.add(new it(a))}}return u.length?(t.push.apply(t,u),i.length?new ot(a,i,o):o):new o.ResultType(o.run())},ct=function(t,n){var e=new Set,r=new Set;for(var o in n)("$"===o[0]?e:r).add(o);if(e.size>1)throw Error("objects cannot have more than one operator");if(e.size){var i=!0,u=!1,a=void 0;try{for(var c,s=r[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var f=c.value;throw Error("unexpected field '"+f+"'")}}catch(t){u=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(u)throw a}}var l=!0,p=!1,y=void 0;try{for(var d,v=e[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){var g=d.value;return"$literal"===g?h.literal(n[g]):at(t,g,n[g])}}catch(t){p=!0,y=t}finally{try{!l&&v.return&&v.return()}finally{if(p)throw y}}}var m=[],_={};for(var w in n)_[w]=st(m,n[w]);var x=new b(_);return m.length?(t.push.apply(t,m),x):new h(x.run())},st=function(t,n){if("string"==typeof n&&"$"===n[0]){var e=new l(n.substring(1));return t.push(e),new m(e)}return null==n||n.constructor!==Object?h.any(n):ct(t,n)};t.exports=function(t){var n=[],e=st(n,t);return{ast:e,paths:n,has_refs:!!n.length}}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=e(1),i=o.toPathPieces,u=function t(n){r(this,t),this.pieces=i(n),this.literal=n};t.exports=u},function(t,n,e){"use strict";var r=(e(5),function(t,n){return function(e){!function(){t(function(t,r,o,i){if(r){var u=i.objectStore(n.from);n.foreignField!=u.keyPath&&(u=u.index(n.foreignField));var a=u.get(r[n.localField]);a.onerror=function(t){e(new Error(t.target.errorCode))},a.onsuccess=function(t){r[n.as]=[t.target.result],e(null,r,o)}}else e(t)})}()}});t.exports=r},function(t,n,e){"use strict";var r=function(){function t(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(1),i=o.toPathPieces,u=o.isObject,a=o.equal,c=function(t,n,e,r){for(var o=0;o<e.length-1;o++){var i=e[o];if(t=t[i],n=n[i],u(t)){if(u(n))continue}else if(!u(n))return null;return r}var c=e[o];if(t.hasOwnProperty(c)){if(n.hasOwnProperty(c))return t=t[c],n=n[c],a(t,n)?0:(t<n?1:-1)*r}else if(!n.hasOwnProperty(c))return null;return r};t.exports=function(t,n){var e=[];for(var o in n)e.push([i(o),n[o]]);var u=function(t,n){var o=!0,i=!1,u=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var f=r(a.value,2),l=f[0],h=f[1],p=c(t,n,l,h);if(null!==p&&0!==p)return p}}catch(t){i=!0,u=t}finally{try{!o&&s.return&&s.return()}finally{if(i)throw u}}return-h},a=[],s=function(t){return t(null,a.pop())},f=function(n){var e=function(t){return t?n(t):(a=a.sort(u),void(f=s)(n))};!function n(){t(function(t,r){return r?(a.push(r),void n()):e(t)})}()};return function(t){return f(t)}}},function(t,n,e){(function(n){var e=function(){"use strict";function t(t,n){return null!=n&&t instanceof n}function e(r,o,i,u,l){function h(r,i){if(null===r)return null;if(0===i)return r;var v,g;if("object"!=typeof r)return r;if(t(r,c))v=new c;else if(t(r,s))v=new s;else if(t(r,f))v=new f(function(t,n){r.then(function(n){t(h(n,i-1))},function(t){n(h(t,i-1))})});else if(e.__isArray(r))v=[];else if(e.__isRegExp(r))v=new RegExp(r.source,a(r)),r.lastIndex&&(v.lastIndex=r.lastIndex);else if(e.__isDate(r))v=new Date(r.getTime());else{if(d&&n.isBuffer(r))return v=new n(r.length),r.copy(v),v;t(r,Error)?v=Object.create(r):"undefined"==typeof u?(g=Object.getPrototypeOf(r),v=Object.create(g)):(v=Object.create(u),g=u)}if(o){var m=p.indexOf(r);if(m!=-1)return y[m];p.push(r),y.push(v)}t(r,c)&&r.forEach(function(t,n){var e=h(n,i-1),r=h(t,i-1);v.set(e,r)}),t(r,s)&&r.forEach(function(t){var n=h(t,i-1);v.add(n)});for(var b in r){var _;g&&(_=Object.getOwnPropertyDescriptor(g,b)),_&&null==_.set||(v[b]=h(r[b],i-1))}if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(r),b=0;b<w.length;b++){var x=w[b],O=Object.getOwnPropertyDescriptor(r,x);(!O||O.enumerable||l)&&(v[x]=h(r[x],i-1),O.enumerable||Object.defineProperty(v,x,{enumerable:!1}))}if(l)for(var k=Object.getOwnPropertyNames(r),b=0;b<k.length;b++){var j=k[b],O=Object.getOwnPropertyDescriptor(r,j);O&&O.enumerable||(v[j]=h(r[j],i-1),Object.defineProperty(v,j,{enumerable:!1}))}return v}"object"==typeof o&&(i=o.depth,u=o.prototype,l=o.includeNonEnumerable,o=o.circular);var p=[],y=[],d="undefined"!=typeof n;return"undefined"==typeof o&&(o=!0),"undefined"==typeof i&&(i=1/0),h(r,i)}function r(t){return Object.prototype.toString.call(t)}function o(t){return"object"==typeof t&&"[object Date]"===r(t)}function i(t){return"object"==typeof t&&"[object Array]"===r(t)}function u(t){return"object"==typeof t&&"[object RegExp]"===r(t)}function a(t){var n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n}var c;try{c=Map}catch(t){c=function(){}}var s;try{s=Set}catch(t){s=function(){}}var f;try{f=Promise}catch(t){f=function(){}}return e.clonePrototype=function(t){if(null===t)return null;var n=function(){};return n.prototype=t,new n},e.__objToStr=r,e.__isDate=o,e.__isArray=i,e.__isRegExp=u,e.__getRegExpFlags=a,e}();"object"==typeof t&&t.exports&&(t.exports=e)}).call(n,e(44).Buffer)},function(t,n,e){var r,o;!function(i,u){r=u,o="function"==typeof r?r.call(n,e,n,t):r,!(void 0!==o&&(t.exports=o))}(this,function(){function t(t){var n=t&&"object"==typeof t;return n&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function n(t){return Array.isArray(t)?[]:{}}function e(e,r){var o=r&&r.clone===!0;return o&&t(e)?i(n(e),e,r):e}function r(n,r,o){var u=n.slice();return r.forEach(function(r,a){"undefined"==typeof u[a]?u[a]=e(r,o):t(r)?u[a]=i(n[a],r,o):n.indexOf(r)===-1&&u.push(e(r,o))}),u}function o(n,r,o){var u={};return t(n)&&Object.keys(n).forEach(function(t){u[t]=e(n[t],o)}),Object.keys(r).forEach(function(a){t(r[a])&&n[a]?u[a]=i(n[a],r[a],o):u[a]=e(r[a],o)}),u}function i(t,n,i){var u=Array.isArray(n),a=i||{arrayMerge:r},c=a.arrayMerge||r;return u?Array.isArray(t)?c(t,n,i):e(n,i):o(t,n,i)}return i.all=function(t,n){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,e){return i(t,e,n)})},i})},function(t,n,e){"use strict";var r,o,i,u,a=e(3),c=function(t,n){};try{Object.defineProperty(c,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(t){}1===c.length?(r={configurable:!0,writable:!1,enumerable:!1},o=Object.defineProperty,t.exports=function(t,n){return n=a(n),t.length===n?t:(r.value=n,o(t,"length",r))}):(u=e(26),i=function(){var t=[];return function(n){var e,r=0;if(t[n])return t[n];for(e=[];n--;)e.push("a"+(++r).toString(36));return new Function("fn","return function ("+e.join(", ")+") { return fn.apply(this, arguments); };")}}(),t.exports=function(t,n){var e;if(n=a(n),t.length===n)return t;e=i(n)(t);try{u(e,t)}catch(t){}return e})},function(t,n,e){"use strict";t.exports=e(58)()?Object.assign:e(59)},function(t,n,e){"use strict";var r=e(2),o=e(8),i=Function.prototype.call;t.exports=function(t,n){var e={},u=arguments[2];return r(n),o(t,function(t,r,o,a){e[r]=i.call(n,u,t,r,o,a)}),e}},function(t,n,e){"use strict";var r=e(6),o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;t.exports=function(t,n){var e,c=Object(r(n));if(t=Object(r(t)),u(c).forEach(function(r){try{o(t,r,i(n,r))}catch(t){e=t}}),"function"==typeof a&&a(c).forEach(function(r){try{o(t,r,i(n,r))}catch(t){e=t}}),void 0!==e)throw e;return t}},function(t,n){"use strict";var e=Array.prototype.forEach,r=Object.create,o=function(t,n){var e;for(e in t)n[e]=t[e]};t.exports=function(t){var n=r(null);return e.call(arguments,function(t){null!=t&&o(Object(t),n)}),n}},function(t,n){function e(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}t.exports=e},function(t,n,e){"use strict";var r=e(27),o=e(30),i=e(93);t.exports=function(t){var n,u=r(arguments[1]);return u.normalizer||(n=u.length=o(u.length,t.length,u.async),0!==n&&(u.primitive?n===!1?u.normalizer=e(92):n>1&&(u.normalizer=e(90)(n)):n===!1?u.normalizer=e(91)():1===n?u.normalizer=e(88)():u.normalizer=e(89)(n))),u.async&&e(79),u.promise&&e(83),u.dispose&&e(80),u.maxAge&&e(81),u.max&&e(82),u.refCounter&&e(84),i(t,u)}},function(t,n,e){"use strict";var r=e(3);t.exports=function(t,n,e){var o;return isNaN(t)?(o=n,o>=0?e&&o?o-1:o:1):t!==!1&&r(t)}},function(t,n,e){(function(n,e){/*!
	 *
	 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
	 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
	 *
	 * With parts by Tyler Close
	 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
	 * at http://www.opensource.org/licenses/mit-license.html
	 * Forked at ref_send.js version: 2009-05-11
	 *
	 * With parts by Mark Miller
	 * Copyright (C) 2011 Google Inc.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 *
	 */
!function(n){"use strict";if("function"==typeof bootstrap)bootstrap("promise",n);else{t.exports=n()}}(function(){"use strict";function t(t){return function(){return Q.apply(t,arguments)}}function r(t){return t===Object(t)}function o(t){return"[object StopIteration]"===ot(t)||t instanceof q}function i(t,n){if(Y&&n.stack&&"object"==typeof t&&null!==t&&t.stack){for(var e=[],r=n;r;r=r.source)r.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>r.stackCounter)&&(nt(t,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),e.unshift(r.stack));e.unshift(t.stack);var o=e.join("\n"+it+"\n"),i=u(o);nt(t,"stack",{value:i,configurable:!0})}}function u(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];s(o)||a(o)||!o||e.push(o)}return e.join("\n")}function a(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function c(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function s(t){var n=c(t);if(!n)return!1;var e=n[0],r=n[1];return e===z&&r>=V&&r<=lt}function f(){if(Y)try{throw new Error}catch(r){var t=r.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],e=c(n);if(!e)return;return z=e[0],e[1]}}function l(t,n,e){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n+" is deprecated, use "+e+" instead.",new Error("").stack),t.apply(t,arguments)}}function h(t){return t instanceof v?t:_(t)?P(t):S(t)}function p(){function t(t){n=t,h.longStackSupport&&Y&&(i.source=t),X(e,function(n,e){h.nextTick(function(){t.promiseDispatch.apply(t,e)})},void 0),e=void 0,r=void 0}var n,e=[],r=[],o=tt(p.prototype),i=tt(v.prototype);if(i.promiseDispatch=function(t,o,i){var u=J(arguments);e?(e.push(u),"when"===o&&i[1]&&r.push(i[1])):h.nextTick(function(){n.promiseDispatch.apply(n,u)})},i.valueOf=function(){if(e)return i;var t=m(n);return b(t)&&(n=t),t},i.inspect=function(){return n?n.inspect():{state:"pending"}},h.longStackSupport&&Y)try{throw new Error}catch(t){i.stack=t.stack.substring(t.stack.indexOf("\n")+1),i.stackCounter=ut++}return o.promise=i,o.resolve=function(e){n||t(h(e))},o.fulfill=function(e){n||t(S(e))},o.reject=function(e){n||t(A(e))},o.notify=function(t){n||X(r,function(n,e){h.nextTick(function(){e(t)})},void 0)},o}function y(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=p();try{t(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}return n.promise}function d(t){return y(function(n,e){for(var r=0,o=t.length;r<o;r++)h(t[r]).then(n,e)})}function v(t,n,e){void 0===n&&(n=function(t){return A(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var r=tt(v.prototype);if(r.promiseDispatch=function(e,o,i){var u;try{u=t[o]?t[o].apply(r,i):n.call(r,o,i)}catch(t){u=A(t)}e&&e(u)},r.inspect=e,e){var o=e();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=e();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function g(t,n,e,r){return h(t).then(n,e,r)}function m(t){if(b(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function b(t){return t instanceof v}function _(t){return r(t)&&"function"==typeof t.then}function w(t){return b(t)&&"pending"===t.inspect().state}function x(t){return!b(t)||"fulfilled"===t.inspect().state}function O(t){return b(t)&&"rejected"===t.inspect().state}function k(){at.length=0,ct.length=0,ft||(ft=!0)}function j(t,e){ft&&("object"==typeof n&&"function"==typeof n.emit&&h.nextTick.runAfter(function(){G(ct,t)!==-1&&(n.emit("unhandledRejection",e,t),st.push(t))}),ct.push(t),e&&"undefined"!=typeof e.stack?at.push(e.stack):at.push("(no stack) "+e))}function E(t){if(ft){var e=G(ct,t);e!==-1&&("object"==typeof n&&"function"==typeof n.emit&&h.nextTick.runAfter(function(){var r=G(st,t);r!==-1&&(n.emit("rejectionHandled",at[e],t),st.splice(r,1))}),ct.splice(e,1),at.splice(e,1))}}function A(t){var n=v({when:function(n){return n&&E(this),n?n(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return j(n,t),n}function S(t){return v({when:function(){return t},get:function(n){return t[n]},set:function(n,e){t[n]=e},delete:function(n){delete t[n]},post:function(n,e){return null===n||void 0===n?t.apply(void 0,e):t[n].apply(t,e)},apply:function(n,e){return t.apply(n,e)},keys:function(){return rt(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function P(t){var n=p();return h.nextTick(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}}),n.promise}function T(t){return v({isDef:function(){}},function(n,e){return U(t,n,e)},function(){return h(t).inspect()})}function I(t,n,e){return h(t).spread(n,e)}function B(t){return function(){function n(t,n){var u;if("undefined"==typeof StopIteration){try{u=e[t](n)}catch(t){return A(t)}return u.done?h(u.value):g(u.value,r,i)}try{u=e[t](n)}catch(t){return o(t)?h(t.value):A(t)}return g(u,r,i)}var e=t.apply(this,arguments),r=n.bind(n,"next"),i=n.bind(n,"throw");return r()}}function C(t){h.done(h.async(t)())}function R(t){throw new q(t)}function D(t){return function(){return I([this,M(arguments)],function(n,e){return t.apply(n,e)})}}function U(t,n,e){return h(t).dispatch(n,e)}function M(t){return g(t,function(t){var n=0,e=p();return X(t,function(r,o,i){var u;b(o)&&"fulfilled"===(u=o.inspect()).state?t[i]=u.value:(++n,g(o,function(r){t[i]=r,0===--n&&e.resolve(t)},e.reject,function(t){e.notify({index:i,value:t})}))},void 0),0===n&&e.resolve(t),e.promise})}function L(t){if(0===t.length)return h.resolve();var n=h.defer(),e=0;return X(t,function(r,o,i){function u(t){n.resolve(t)}function a(t){e--,0===e&&(t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,n.reject(t))}function c(t){n.notify({index:i,value:t})}var s=t[i];e++,g(s,u,a,c)},void 0),n.promise}function N(t){return g(t,function(t){return t=Z(t,h),g(M(Z(t,function(t){return g(t,W,W)})),function(){return t})})}function F(t){return h(t).allSettled()}function $(t,n){return h(t).then(void 0,void 0,n)}function K(t,n){return h(t).nodeify(n)}var Y=!1;try{throw new Error}catch(t){Y=!!t.stack}var z,q,V=f(),W=function(){},H=function(){function t(){for(var t,n;o.next;)o=o.next,t=o.task,o.task=void 0,n=o.domain,n&&(o.domain=void 0,n.enter()),r(t,n);for(;s.length;)t=s.pop(),r(t);u=!1}function r(n,e){try{n()}catch(n){if(c)throw e&&e.exit(),setTimeout(t,0),e&&e.enter(),n;setTimeout(function(){throw n},0)}e&&e.exit()}var o={task:void 0,next:null},i=o,u=!1,a=void 0,c=!1,s=[];if(H=function(t){i=i.next={task:t,domain:c&&n.domain,next:null},u||(u=!0,a())},"object"==typeof n&&"[object process]"===n.toString()&&n.nextTick)c=!0,a=function(){n.nextTick(t)};else if("function"==typeof e)a="undefined"!=typeof window?e.bind(window,t):function(){e(t)};else if("undefined"!=typeof MessageChannel){var f=new MessageChannel;f.port1.onmessage=function(){a=l,f.port1.onmessage=t,t()};var l=function(){f.port2.postMessage(0)};a=function(){setTimeout(t,0),l()}}else a=function(){setTimeout(t,0)};return H.runAfter=function(t){s.push(t),u||(u=!0,a())},H}(),Q=Function.call,J=t(Array.prototype.slice),X=t(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;e<r;e++)e in this&&(n=t(n,this[e],e));return n}),G=t(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),Z=t(Array.prototype.map||function(t,n){var e=this,r=[];return X(e,function(o,i,u){r.push(t.call(n,i,u,e))},void 0),r}),tt=Object.create||function(t){function n(){}return n.prototype=t,new n},nt=Object.defineProperty||function(t,n,e){return t[n]=e.value,t},et=t(Object.prototype.hasOwnProperty),rt=Object.keys||function(t){var n=[];for(var e in t)et(t,e)&&n.push(e);return n},ot=t(Object.prototype.toString);q="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var it="From previous event:";h.resolve=h,h.nextTick=H,h.longStackSupport=!1;var ut=1;"object"==typeof n&&n&&n.env&&n.env.Q_DEBUG&&(h.longStackSupport=!0),h.defer=p,p.prototype.makeNodeResolver=function(){var t=this;return function(n,e){n?t.reject(n):arguments.length>2?t.resolve(J(arguments,1)):t.resolve(e)}},h.Promise=y,h.promise=y,y.race=d,y.all=M,y.reject=A,y.resolve=h,h.passByCopy=function(t){return t},v.prototype.passByCopy=function(){return this},h.join=function(t,n){return h(t).join(n)},v.prototype.join=function(t){return h([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Q can't join: not the same: "+t+" "+n)})},h.race=d,v.prototype.race=function(){return this.then(h.race)},h.makePromise=v,v.prototype.toString=function(){return"[object Promise]"},v.prototype.then=function(t,n,e){function r(n){try{return"function"==typeof t?t(n):n}catch(t){return A(t)}}function o(t){if("function"==typeof n){i(t,a);try{return n(t)}catch(t){return A(t)}}return A(t)}function u(t){return"function"==typeof e?e(t):t}var a=this,c=p(),s=!1;return h.nextTick(function(){a.promiseDispatch(function(t){s||(s=!0,c.resolve(r(t)))},"when",[function(t){s||(s=!0,c.resolve(o(t)))}])}),a.promiseDispatch(void 0,"when",[void 0,function(t){var n,e=!1;try{n=u(t)}catch(t){if(e=!0,!h.onerror)throw t;h.onerror(t)}e||c.notify(n)}]),c.promise},h.tap=function(t,n){return h(t).tap(n)},v.prototype.tap=function(t){return t=h(t),this.then(function(n){return t.fcall(n).thenResolve(n)})},h.when=g,v.prototype.thenResolve=function(t){return this.then(function(){return t})},h.thenResolve=function(t,n){return h(t).thenResolve(n)},v.prototype.thenReject=function(t){return this.then(function(){throw t})},h.thenReject=function(t,n){return h(t).thenReject(n)},h.nearer=m,h.isPromise=b,h.isPromiseAlike=_,h.isPending=w,v.prototype.isPending=function(){return"pending"===this.inspect().state},h.isFulfilled=x,v.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},h.isRejected=O,v.prototype.isRejected=function(){return"rejected"===this.inspect().state};var at=[],ct=[],st=[],ft=!0;h.resetUnhandledRejections=k,h.getUnhandledReasons=function(){return at.slice()},h.stopUnhandledRejectionTracking=function(){k(),ft=!1},k(),h.reject=A,h.fulfill=S,h.master=T,h.spread=I,v.prototype.spread=function(t,n){return this.all().then(function(n){return t.apply(void 0,n)},n)},h.async=B,h.spawn=C,h.return=R,h.promised=D,h.dispatch=U,v.prototype.dispatch=function(t,n){var e=this,r=p();return h.nextTick(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},h.get=function(t,n){return h(t).dispatch("get",[n])},v.prototype.get=function(t){return this.dispatch("get",[t])},h.set=function(t,n,e){return h(t).dispatch("set",[n,e])},v.prototype.set=function(t,n){return this.dispatch("set",[t,n])},h.del=h.delete=function(t,n){return h(t).dispatch("delete",[n])},v.prototype.del=v.prototype.delete=function(t){return this.dispatch("delete",[t])},h.mapply=h.post=function(t,n,e){return h(t).dispatch("post",[n,e])},v.prototype.mapply=v.prototype.post=function(t,n){return this.dispatch("post",[t,n])},h.send=h.mcall=h.invoke=function(t,n){return h(t).dispatch("post",[n,J(arguments,2)])},v.prototype.send=v.prototype.mcall=v.prototype.invoke=function(t){return this.dispatch("post",[t,J(arguments,1)])},h.fapply=function(t,n){return h(t).dispatch("apply",[void 0,n])},v.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},h.try=h.fcall=function(t){return h(t).dispatch("apply",[void 0,J(arguments,1)])},v.prototype.fcall=function(){return this.dispatch("apply",[void 0,J(arguments)])},h.fbind=function(t){var n=h(t),e=J(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(J(arguments))])}},v.prototype.fbind=function(){var t=this,n=J(arguments);return function(){return t.dispatch("apply",[this,n.concat(J(arguments))])}},h.keys=function(t){return h(t).dispatch("keys",[])},v.prototype.keys=function(){return this.dispatch("keys",[])},h.all=M,v.prototype.all=function(){return M(this)},h.any=L,v.prototype.any=function(){return L(this)},h.allResolved=l(N,"allResolved","allSettled"),v.prototype.allResolved=function(){return N(this)},h.allSettled=F,v.prototype.allSettled=function(){return this.then(function(t){return M(Z(t,function(t){function n(){return t.inspect()}return t=h(t),t.then(n,n)}))})},h.fail=h.catch=function(t,n){return h(t).then(void 0,n)},v.prototype.fail=v.prototype.catch=function(t){return this.then(void 0,t)},h.progress=$,v.prototype.progress=function(t){return this.then(void 0,void 0,t)},h.fin=h.finally=function(t,n){return h(t).finally(n)},v.prototype.fin=v.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=h(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n})})},h.done=function(t,n,e,r){return h(t).done(n,e,r)},v.prototype.done=function(t,e,r){var o=function(t){h.nextTick(function(){if(i(t,u),!h.onerror)throw t;h.onerror(t)})},u=t||e||r?this.then(t,e,r):this;"object"==typeof n&&n&&n.domain&&(o=n.domain.bind(o)),u.then(void 0,o)},h.timeout=function(t,n,e){return h(t).timeout(n,e)},v.prototype.timeout=function(t,n){var e=p(),r=setTimeout(function(){n&&"string"!=typeof n||(n=new Error(n||"Timed out after "+t+" ms"),n.code="ETIMEDOUT"),e.reject(n)},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},h.delay=function(t,n){return void 0===n&&(n=t,t=void 0),h(t).delay(n)},v.prototype.delay=function(t){return this.then(function(n){var e=p();return setTimeout(function(){e.resolve(n)},t),e.promise})},h.nfapply=function(t,n){return h(t).nfapply(n)},v.prototype.nfapply=function(t){var n=p(),e=J(t);return e.push(n.makeNodeResolver()),this.fapply(e).fail(n.reject),n.promise},h.nfcall=function(t){var n=J(arguments,1);return h(t).nfapply(n)},v.prototype.nfcall=function(){var t=J(arguments),n=p();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},h.nfbind=h.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var n=J(arguments,1);return function(){var e=n.concat(J(arguments)),r=p();return e.push(r.makeNodeResolver()),h(t).fapply(e).fail(r.reject),r.promise}},v.prototype.nfbind=v.prototype.denodeify=function(){var t=J(arguments);return t.unshift(this),h.denodeify.apply(void 0,t)},h.nbind=function(t,n){var e=J(arguments,2);return function(){function r(){return t.apply(n,arguments)}var o=e.concat(J(arguments)),i=p();return o.push(i.makeNodeResolver()),h(r).fapply(o).fail(i.reject),i.promise}},v.prototype.nbind=function(){var t=J(arguments,0);return t.unshift(this),h.nbind.apply(void 0,t)},h.nmapply=h.npost=function(t,n,e){return h(t).npost(n,e)},v.prototype.nmapply=v.prototype.npost=function(t,n){var e=J(n||[]),r=p();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},h.nsend=h.nmcall=h.ninvoke=function(t,n){var e=J(arguments,2),r=p();return e.push(r.makeNodeResolver()),h(t).dispatch("post",[n,e]).fail(r.reject),r.promise},v.prototype.nsend=v.prototype.nmcall=v.prototype.ninvoke=function(t){var n=J(arguments,1),e=p();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},h.nodeify=K,v.prototype.nodeify=function(t){return t?void this.then(function(n){h.nextTick(function(){t(null,n)})},function(n){h.nextTick(function(){t(n)})}):this},h.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var lt=f();return h})}).call(n,e(13),e(14).setImmediate)},function(t,n,e){"use strict";var r=function(){function t(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(1),i=o.unknownOp,u=e(15),a={$match:function(t,n){return t.filter(n)},$project:function(t,n){return t.project(n)},$group:function(t,n){return t.group(n)},$unwind:function(t,n){return t.unwind(n)},$sort:function(t,n){return t.sort(n)},$skip:function(t,n){return t.skip(n)},$limit:function(t,n){return t.limit(n)},$lookup:function(t,n){return t.lookup(n)}},c=function(t){var n=Object.keys(t);if(n.length>1)throw Error("stages must be passed only one operator");var e=n[0],r=a[e];return r||i(e),[r,t[e]]},s=function(t,n){var e=new u(t,"readonly"),o=!0,i=!1,a=void 0;try{for(var s,f=n[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var l=s.value,h=c(l),p=r(h,2),y=p[0],d=p[1];y(e,d)}}catch(t){i=!0,a=t}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return e};t.exports=s},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=e(31),a=e(1),c=a.getIDBError,s=e(15),f=e(32),l=e(42),h=e(39),p=function(){function t(n,e){r(this,t),this._db=n,this._name=e,this._indexes=new Set}return i(t,[{key:"_isIndexed",value:function(t){return this._indexes.has(t)||"_id"===t}},{key:"find",value:function(t,n){var e=new s(this,"readonly");return e.filter(t),n&&e.project(n),e}},{key:"findOne",value:function(t,n){var e=this.find(t,n);return e.toArray().then(function(t){return t[0]})}},{key:"count",value:function(t,n){"function"==typeof t&&(n=t,t={});var e=new s(this,"readonly");return e.count(t,n)}},{key:"drop",value:function(t){var n=this,e=u.defer(),r=void 0;return this._db._getConn(function(t,o){n.count().then(function(t){try{r=o.transaction([n.name],"readwrite")}catch(t){return e.reject(t)}var i=r.objectStore(n.name);i.clear(),e.resolve({deletedCount:t,result:{}})})}),e.promise.nodeify(t),e.promise}},{key:"aggregate",value:function(t){return f(this,t)}},{key:"_validate",value:function(t){for(var n in t){if("$"===n[0])throw Error("field name cannot start with '$'");var e=t[n];if(Array.isArray(e)){var r=!0,i=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value;this._validate(s)}}catch(t){i=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw u}}}else"object"===("undefined"==typeof e?"undefined":o(e))&&this._validate(e)}}},{key:"insert",value:function(t,n){var e=this;Array.isArray(t)||(t=[t]);var r=u.defer();return this._db._getConn(function(n,o){var i=void 0,u=e._name;try{i=o.transaction([u],"readwrite")}catch(t){return r.reject(t)}i.oncomplete=function(){return r.resolve({nInserted:t.length})},i.onerror=function(t){return r.reject(c(t))};var a=i.objectStore(u),s=0,f=function n(){var o=t[s];try{e._validate(o)}catch(t){return r.reject(t)}var i=a.add(o);i.onsuccess=function(){s++,s<t.length&&n()}};f()}),r.promise.nodeify(n),r.promise}},{key:"_modify",value:function(t,n,e){var r=u.defer(),o=new s(this,"readwrite");return o.filter(n),t(o,function(t){t?r.reject(t):r.resolve()}),r.promise.nodeify(e),r.promise}},{key:"update",value:function(t,n,e){var r=function(t,e){return l(t,n,e)};return this._modify(r,t,e)}},{key:"remove",value:function(t,n){return this._modify(h,t,n)}},{key:"name",get:function(){return this._name}}]),t}();t.exports=p},function(t,n,e){"use strict";var r=function(){function t(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(22),i=e(1),u=i.hashify,a=i.getIDBError,c=e(16),s=e(20),f=e(19),l=e(36),h=l.build,p=l.Conjunction,y=l.Disjunction,d=l.Exists,v=function(t){return t>0?"next":"prev"},g=function(t){return t.length>1?new p(t):t[0]},m=function(t){var n=t.parent,e=t.index;n.args.splice(e,1)},b=function(t,n){var e=t.col,o=t.read_pref,i=t.pipeline;e._db._getConn(function(t,u){if(t)return n(t);var c=e._name,s=[c],l=!0,h=!1,p=void 0;try{for(var y,d=i[Symbol.iterator]();!(l=(y=d.next()).done);l=!0){var v=r(y.value,2),g=v[0],m=v[1];g===f&&s.push(m.from)}}catch(t){h=!0,p=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw p}}try{var b=u.transaction(s,o);b.onerror=function(t){return n(a(t))},n(null,b.objectStore(c),b)}catch(t){n(t)}})},_=function(t,n){var e=n.idb_key_range||null,r=n.idb_direction||"next",o=n.path.literal,i=void 0;return i=o===t.keyPath?t:t.index(o),i.openCursor(e,r)},w=function(t){return t.openCursor()},x=function(t){var n=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done);e=!0){var s=r(u.value,2),f=s[0],l=s[1];if(f===c){var p=h(l);if(p===!1)return;if(!p)continue;l=p}n.push([f,l])}}catch(t){o=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}return n},O=function(t){var n=t.pipeline,e=[],i=[],u=0,a=!0,f=!1,l=void 0;try{for(var h,p=n[Symbol.iterator]();!(a=(h=p.next()).done);a=!0){var y=r(h.value,2),d=y[0],v=y[1];if(d===s)i.push(v);else{if(d!==c)break;e.push(v)}u++}}catch(t){f=!0,l=t}finally{try{!a&&p.return&&p.return()}finally{if(f)throw l}}n.splice(0,u),t.pred=g(e),i.length&&(t.sort_spec=i.reduce(o,{}))},k=function(t,n){if(!n)return[];var e=[],r=[],o=!0,i=!1,u=void 0;try{for(var a,c=n.getClauses()[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var s=a.value;t._isIndexed(s.path.literal)&&(s instanceof d?r.push(s):e.push(s))}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return e.length?e:r},j=function(t){var n=t.col,e=t.pred;t.clauses=k(n,e)},E=function(t){if(t.hint){var n=t.clauses,e=t.hint,r=[],o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var s=a.value;s.path.literal===e&&r.push(s)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}r.length||(r=[{path:{literal:e}}]),t.clauses=r}},A=function(t){if(t.sort_spec){var n=t.clauses,e=t.sort_spec,r=t.pipeline,o=[],i=!0,u=!1,a=void 0;try{for(var c,f=n[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,h=l.path.literal;if(e.hasOwnProperty(h)){var p=e[h];l.idb_direction=v(p),o.push(l)}}}catch(t){u=!0,a=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw a}}o.length?t.clauses=o:r.unshift([s,e])}},S=function(t){var n=t.pred,e=t.clauses,r=t.pipeline,o=void 0;if(e.length){var i=e[0];if(o=function(t){return _(t,i)},!n||i===n)return o;m(i)}else if(o=w,!n)return o;return r.unshift([c,n]),o},P=function(t){var n=void 0,e=void 0,r=void 0,o=S(t),i=function(t){e.onsuccess=function(e){n=e.target.result,t()},e.onerror=function(n){return t(a(n))}},u=function(t){i(t),n.continue()},c=function(a){b(t,function(t,s,f){return r=f,t?a(t):(e=o(s),void i(function(t){n&&(c=u),a(t)}))})};return function(t){return c(function(e){t(e,n,r)})}},T=function(t,n){var e=t.pipeline,o=!0,i=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var s=r(a.value,2),f=s[0],l=s[1];n=f(n,l)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return n},I=function(t){var n=[],e=!0,r=!1,o=void 0;try{for(var i,a=t.pred.args[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var c=i.value,f={col:t.col,read_pref:t.read_pref,pred:c,pipeline:[]};j(f);var l=B(f);n.push(T(f,l))}}catch(t){r=!0,o=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw o}}var h=new Set,p=function(t){var n=u(t._id);if(!h.has(n))return h.add(n)},y=function(){return n.pop()},d=y(),v=function(t){(d=y())?g(t):t()},g=function t(n){d(function(e,r,o){e?n(e):r?p(r)?n(null,r,o):t(n):v(n)})},m=t.sort_spec;return m&&t.pipeline.push([s,m]),g},B=function(t){var n=P(t),e=function(t){n(function(n,e,r){e?t(null,e.value,e,r):t(n)})};return e};t.exports=function(t){var n=void 0;try{n=x(t._pipeline)}catch(t){return function(n){return n(t)}}if(!n)return function(t){return t()};var e={col:t._col,read_pref:t._read_pref,hint:t._hint,pipeline:n};O(e);var r=void 0;return e.pred instanceof y?r=I(e):(j(e),E(e),A(e),r=B(e)),T(e,r)}},function(t,n,e){"use strict";function r(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var u=function t(n,e,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var i=Object.getPrototypeOf(n);return null===i?void 0:t(i,e,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c=e(29),s=e(1),f=s.unknownOp,l=s.hashify,h=e(17),p=e(5),y=function(){function t(){i(this,t)}return a(t,[{key:"getOpValueWithRefs",value:function(t,n,e){var r=t.ast,o=t.fields;e(r.run(o))}},{key:"value",get:function(){return this._value}}],[{key:"getNoRefsSteps",value:function(t){return t.in_iter}},{key:"getOpValue",value:function(t,n){n(t.ast.run())}}]),t}(),d=function(t){function n(){i(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._value=0,t}return o(n,t),a(n,[{key:"getOpValueWithRefs",value:function(t,e,r){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getOpValueWithRefs",this).call(this,t,e,function(t){n._verify(t,r)})}},{key:"add",value:function(t){this._value+=t}}],[{key:"_verify",value:function(t,n){"number"==typeof t&&n(t)}},{key:"getOpValue",value:function(t,e){u(n.__proto__||Object.getPrototypeOf(n),"getOpValue",this).call(this,t,function(t){return n._verify(t,e)})}}]),n}(y),v=function(t){function n(){i(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._count=0,t}return o(n,t),a(n,[{key:"add",value:function(t){this._count++,u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"add",this).call(this,t)}},{key:"value",get:function(){return this._value/this._count||0}}]),n}(d),g=function(t){function n(t){i(this,n);var e=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e._value=null,e._fn=t,e._add=e._add1,e}return o(n,t),a(n,[{key:"_add1",value:function(t){this._value=t,this._add=this._add2}},{key:"_add2",value:function(t){this._fn(t,this._value)&&(this._value=t)}},{key:"add",value:function(t){null!=t&&this._add(t)}}],[{key:"getNoRefsSteps",value:function(t){return t.in_end}}]),n}(y),m=function(t){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,function(t,n){return t<n}))}return o(n,t),n}(g),b=function(t){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,function(t,n){return t>n}))}return o(n,t),n}(g),_=function(t){function n(){i(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._value=[],t}return o(n,t),a(n,[{key:"add",value:function(t){this._value.push(t)}}]),n}(y),w=function(t){function n(){i(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._hashes={},t}return o(n,t),a(n,[{key:"add",value:function(t){this._hashes[l(t)]=t}},{key:"value",get:function(){var t=[];for(var n in this._hashes)t.push(this._hashes[n]);return t}}],[{key:"getNoRefsSteps",value:function(t){return t.in_end}}]),n}(y),x=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var o=!0,i=!1,u=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var s=a.value;s.apply(void 0,e)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}},O=function(t,n){var e=!0,r=!1,o=void 0;try{for(var i,u=n[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var a=i.value;x(t,a)}}catch(t){r=!0,o=t}finally{try{!e&&u.return&&u.return()}finally{if(r)throw o}}},k=function(t,n,e,r){return function(o){var i=function(t){t||O(n,e),o(t,e)};!function n(){t(function(t,e){return e?(r(e),void n()):i(t)})}()}},j=function(t,n,e){var r=e.in_start,o=e.in_iter,i=e.in_end,u=[],a=c(function(t,n){var e={_id:n};return u.push(e),x(r,e),e},{length:1}),s=n.ast,f=function(t){return s.run(new p(t))},h=void 0;return h=o.length?function(t){var n=f(t),e=a(l(n),n);x(o,e,t)}:function(t){var n=f(t);a(l(n),n)},k(t,i,u,h)},E=function(t,n,e){if(n.has_refs)return j(t,n,e);var r=e.in_start,o=e.in_iter,i=e.in_end,u=[],a=function(){var t={_id:n.ast.run()};return x(r,t),u.push(t),t};if(o.length){var s=c(function(){return a()});return k(t,i,u,function(t){x(o,s(),t)})}return function(n){t(function(t,e){e&&(a(),O(i,u)),n(t,u)})}},A={$sum:d,$avg:v,$min:m,$max:b,$push:_,$addToSet:w},S=function(t,n,e){var r=t.in_start,o=t.in_iter,i=t.in_end,u=Object.keys(e);if(u.length>1)throw Error("fields must have only one operator");var a=u[0],c=A[a];if(!c)throw"$"===a[0]&&f(a),Error("unexpected field '"+a+"'");var s=h(e[a]);r.push(function(t){t[n]=new c(s)}),s.has_refs?o.push(function(t,e){var r=new p(e);if(r.ensure(s.paths)){var o=t[n],i=Object.assign({fields:r},s),u=function(t){return o.add(t)};o.getOpValueWithRefs(i,e,u)}}):c.getOpValue(s,function(e){c.getNoRefsSteps(t).push(function(t){t[n].add(e)})}),i.push(function(t){t[n]=t[n].value})};t.exports=function(t,n){if(!n.hasOwnProperty("_id"))throw Error("the '_id' field is missing");var e=h(n._id),r=Object.assign({},n);delete r._id;var o={in_start:[],in_iter:[],in_end:[]};for(var i in r)S(o,i,r[i]);var u=E(t,e,o),a=function(t){u(function(n,e){n?t(n):(a=function(t){return t(null,e.pop())})(t)})};return function(t){return a(t)}}},function(t,n,e){"use strict";function r(t){return Array.isArray(t)?t:Array.from(t)}function o(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var c=function t(n,e,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var i=Object.getPrototypeOf(n);return null===i?void 0:t(i,e,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),f=e(1),l=f.isObject,h=f.equal,p=f.unknownOp,y=e(9),d=e(18),v=e(5),g=function t(n){if("number"==typeof n)return!isNaN(n);if("string"==typeof n)return!0;if("boolean"==typeof n)return!0;if(!n)return!1;if(n.constructor===Object)return!1;if(Array.isArray(n)){
var e=!0,r=!1,o=void 0;try{for(var i,u=n[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var a=i.value;if(!t(a))return!1}}catch(t){r=!0,o=t}finally{try{!e&&u.return&&u.return()}finally{if(r)throw o}}return!0}return n instanceof Date&&!isNaN(n.valueOf())},m=function(){function t(){a(this,t)}return s(t,[{key:"getClauses",value:function(){return this.is_index_matchable?[this]:[]}}]),t}(),b=function(t){function n(t){a(this,n);var e=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.args=t,e}return u(n,t),n}(m),_=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"getClauses",value:function(){for(var t=[],n=0;n<this.args.length;n++){var e=this.args[n];e instanceof b?t.push.apply(t,o(e.getClauses())):e.is_index_matchable&&(e.parent=this,e.index=n,t.push(e))}return t}},{key:"run",value:function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=this.args[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value;if(!u.run(t))return!1}}catch(t){e=!0,r=t}finally{try{!n&&i.return&&i.return()}finally{if(e)throw r}}return!0}}]),n}(b),w=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"getClauses",value:function(){return[]}},{key:"run",value:function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=this.args[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value;if(u.run(t))return!0}}catch(t){e=!0,r=t}finally{try{!n&&i.return&&i.return()}finally{if(e)throw r}}return!1}}]),n}(b),x=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"getClauses",value:function(){return[]}},{key:"run",value:function(t){return!c(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"run",this).call(this,t)}}]),n}(_),O=function(t){function n(t,e){a(this,n);var r=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.path=t,r.bool=e,r}return u(n,t),s(n,[{key:"run",value:function(t){return t.get(this.path)!==y===this.bool}},{key:"is_index_matchable",get:function(){return!!this.bool}}]),n}(m),k=function(t){function n(t,e){a(this,n);var r=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.path=t,r.value=e,r}return u(n,t),s(n,[{key:"run",value:function(t){var n=t.get(this.path);return n!==y&&h(n,this.value)}},{key:"is_index_matchable",get:function(){return g(this.value)}},{key:"idb_key_range",get:function(){return IDBKeyRange.only(this.value)}}]),n}(m),j=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"run",value:function(t){return!c(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"run",this).call(this,t)}},{key:"is_index_matchable",get:function(){return!1}}]),n}(k),E=function(t){function n(t,e,r){a(this,n);var o=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return o.path=t,o.fns=e,o.values=r,o}return u(n,t),s(n,[{key:"run",value:function(t){var n=t.get(this.path);if(n===y||null==n)return!1;for(var e=this.fns,r=this.values,o=0;o<e.length;o++)if(!e[o](n,r[o]))return!1;return!0}},{key:"is_index_matchable",get:function(){return!0}}]),n}(m),A=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){function e(t,r){return a(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r))}return u(e,t),e}(E)},S=function(t,n){return t>n},P=function(t,n){return t>=n},T=function(t,n){return t<n},I=function(t,n){return t<=n},B=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).lowerBound.apply(t,o(this.values).concat([!0]))}}]),n}(A(S)),C=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).lowerBound.apply(t,o(this.values))}}]),n}(A(P)),R=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).upperBound.apply(t,o(this.values).concat([!0]))}}]),n}(A(T)),D=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).upperBound.apply(t,o(this.values))}}]),n}(A(I)),U=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,o(this.values).concat([!0,!0]))}}]),n}(A(S,T)),M=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,o(this.values).concat([!1,!0]))}}]),n}(A(P,T)),L=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,o(this.values).concat([!0,!1]))}}]),n}(A(S,I)),N=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"idb_key_range",get:function(){var t;return(t=IDBKeyRange).bound.apply(t,o(this.values))}}]),n}(A(P,I)),F=function(t){function n(t,e){a(this,n);var r=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.path=t,r.op=e,r}return u(n,t),s(n,[{key:"run",value:function(t){var n=t.get(this.path);if(!n||!n[Symbol.iterator])return!1;var e=this.op,r=!0,o=!1,i=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;if(l(c)&&e.run(new v(c)))return!0}}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return!1}},{key:"is_index_matchable",get:function(){return!1}}]),n}(m),$=function(t,n){var e=!0,r=!1,i=void 0;try{for(var u,a=n[Symbol.iterator]();!(e=(u=a.next()).done);e=!0){var c=u.value,s=H(c);if(s===!1)return!1;s&&(s.constructor===_?t.push.apply(t,o(s.args)):t.push(s))}}catch(t){r=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw i}}return!0},K=function(t,n){var e=[],r=void 0,i=!0,u=!1,a=void 0;try{for(var c,s=n[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var f=c.value,l=H(f);l?l.constructor===w?e.push.apply(e,o(l.args)):e.push(l):l===!1&&(r=!0)}}catch(t){u=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(u)throw a}}if(e.length>1)t.push(new w(e));else if(e.length)t.push(e[0]);else if(r)return!1;return!0},Y=function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value,s=H(c);s&&e.push(s)}}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return e.length&&t.push(new x(e)),!0},z={$and:$,$or:K,$not:Y,$nor:Y},q=[[U,"$gt","$lt"],[M,"$gte","$lt"],[L,"$gt","$lte"],[N,"$gte","$lte"],[B,"$gt"],[C,"$gte"],[R,"$lt"],[D,"$lte"]],V=function(t,n,e,o){var i=function(r,i){var u=[],a=!0,c=!1,s=void 0;try{for(var f,l=i[Symbol.iterator]();!(a=(f=l.next()).done);a=!0){var h=f.value;if(!o.has(h))return;var p=e[h];if(!g(p))return!1;u.push(p)}}catch(t){c=!0,s=t}finally{try{!a&&l.return&&l.return()}finally{if(c)throw s}}return t.push(new r(n,u)),!0},u=!0,a=!1,c=void 0;try{for(var s,f=q[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var l=r(s.value),h=l[0],p=l.slice(1),y=i(h,p);if(y===!1)return;if(y){o.delete("$gt"),o.delete("$gte"),o.delete("$lt"),o.delete("$lte");break}}}catch(t){a=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(a)throw c}}return!0},W=function(t,n,e){var r=function(){return t.push(new k(n,e)),!0};if(null==e||e.constructor!==Object)return r();var o=new Set(Object.keys(e));if(o.has("$exists")&&!e.$exists)return t.push(new O(n,!1)),!0;var i=[];if(o.has("$eq")&&(i.push(new k(n,e.$eq)),o.delete("$eq")),o.has("$ne")&&(i.push(new j(n,e.$ne)),o.delete("$ne")),!V(i,n,e,o))return!1;if(o.has("$in")){var u=[],a=!0,c=!1,s=void 0;try{for(var f,l=e.$in[Symbol.iterator]();!(a=(f=l.next()).done);a=!0){var h=f.value;u.push(new k(n,h))}}catch(t){c=!0,s=t}finally{try{!a&&l.return&&l.return()}finally{if(c)throw s}}u.length>1?i.push(new w(u)):u.length&&i.push(u[0]),o.delete("$in")}if(o.has("$nin")){var y=!0,d=!1,v=void 0;try{for(var g,m=e.$nin[Symbol.iterator]();!(y=(g=m.next()).done);y=!0){var b=g.value;i.push(new j(n,b))}}catch(t){d=!0,v=t}finally{try{!y&&m.return&&m.return()}finally{if(d)throw v}}o.delete("$nin")}if(o.has("$elemMatch")){var _=H(e.$elemMatch);_&&i.push(new F(n,_)),o.delete("$elemMatch")}e.$exists&&!i.length&&(i.push(new O(n,!0)),o.delete("$exists"));var x=!0,E=!1,A=void 0;try{for(var S,P=o[Symbol.iterator]();!(x=(S=P.next()).done);x=!0){var T=S.value;"$"===T[0]&&p(T)}}catch(t){E=!0,A=t}finally{try{!x&&P.return&&P.return()}finally{if(E)throw A}}return i.length?(t.push.apply(t,i),!0):r()},H=function(t){var n=[];for(var e in t){var r=t[e],o=void 0;if("$"!==e[0])o=W(n,new d(e),r);else{Array.isArray(r)||(r=[r]);var i=z[e];i||p(e),o=i(n,r)}if(!o)return o}if(n.length)return 1===n.length?n[0]:new _(n)};t.exports.build=H,t.exports.Conjunction=_,t.exports.Disjunction=w,t.exports.Exists=O},function(t,n){"use strict";t.exports=function(t,n){var e=0,r=function(r){e++<n?t(r):r()};return r}},function(t,n,e){"use strict";var r=function(){function t(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(1),i=o.toPathPieces,u=o.set,a=o.remove2,c=o.copy,s=e(17),f=e(5),l=function(t,n,e){var o=!0,i=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var s=r(a.value,2),f=s[0],l=s[1];l(t,n,f)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return n},h=function(t){var n=s(t),e=n.ast,r=n.paths,o=n.has_refs;if(!o){var i=e.run();return function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return u.apply(void 0,e.concat([i]))}}return function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var a=new f(t);a.ensure(r)&&u.apply(void 0,o.concat([e.run(a)]))}},p=function(t,n){var e=function(t){return!!n[t]},r=!0;n.hasOwnProperty("_id")&&(r=e("_id"),delete n._id);var o=[],u=[],s=!0,f=function(t){if(e(t)!==s)throw Error("cannot mix inclusions and exclusions")},p=function(t){s=e(t),p=f};for(var y in n){var d=n[y],v=i(y);"boolean"==typeof d||1===d||0===d?(p(y),o.push(v)):u.push([v,h(d)])}var g=[];if(u.length&&g.push(function(t,n){return l(t,n,u)}),o.length){s===r&&o.push(["_id"]);var m=s?c:a;g.push(function(t){return m(t,o)})}else{var b=void 0;b=r?function(t,n){t.hasOwnProperty("_id")&&(n._id=t._id)}:function(t,n){delete n._id},g.push(function(t,n){return b(t,n),n})}var _=function(n){t(function(t,e){if(!e)return n(t);var r=e,o=!0,i=!1,u=void 0;try{for(var a,c=g[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var s=a.value;r=s(e,r)}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}n(null,r)})};return _};t.exports=p},function(t,n,e){"use strict";var r=e(1),o=r.getIDBError;t.exports=function(t,n){!function e(){t._next(function(t,r,i){if(!r)return n(t);var u=i.delete();u.onsuccess=e,u.onerror=function(t){return n(o(t))}})}()}},function(t,n){"use strict";t.exports=function(t,n){var e=0,r=function r(o){t(function(t,i){i?++e>n?o(null,i):r(o):o(t)})};return r}},function(t,n,e){"use strict";var r=e(21),o=e(1),i=o.toPathPieces,u=o.get;t.exports=function(t,n){var e=i(n.substring(1)),o=[],a=function(t){return t(null,o.pop())},c=function(t,n){var i=o.length;return u(t,e,function(t,n){var e=t[n];if(e&&e[Symbol.iterator]){var i=!0,u=!1,a=void 0;try{for(var c,s=e[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var f=c.value,l=r(t);l[n]=f,o.push(l)}}catch(t){u=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(u)throw a}}}}),i===o.length?s(n):void a(n)},s=function(n){t(function(t,e){t?n(t):e?c(e,n):(s=a)(n)})};return function(t){return s(t)}}},function(t,n,e){"use strict";var r=e(1),o=r.toPathPieces,i=r.get,u=r.set,a=r.modify,c=r.remove1,s=r.rename,f=r.unknownOp,l=r.getIDBError,h=function(t,n){return function(e){u(e,t,n)}},p=function(t){return function(n){return c(n,t)}},y=function(t,n){return function(e){s(e,t,n)}},d=function(t,n,e){return function(r){a(r,t,n,e)}},v=function(t){return function(n,e){var r=function(n,r){var o=n[r];"number"==typeof o&&(n[r]=t(e,o))},o=function(t,n){return t[n]=0};return d(n,r,o)}},g=v(function(t,n){return t+n}),m=v(function(t,n){return t*n}),b=function(t){return function(n,e){var r=function(n,r){t(e,n[r])&&(n[r]=e)},o=function(t,n){return t[n]=e};return d(n,r,o)}},_=b(function(t,n){return t<n}),w=b(function(t,n){return t>n}),x=function(t,n){var e=function(t,e){var r=t[e];Array.isArray(r)&&r.push(n)},r=function(t,e){return t[e]=[n]};return d(t,e,r)},O=function(t,n){var e=void 0;return e=n<1?function(t){return t.shift()}:function(t){return t.pop()},function(n){i(n,t,function(t,n){var r=t[n];Array.isArray(r)&&e(r)})}},k={$set:h,$unset:p,$rename:y,$inc:g,$mul:m,$min:_,$max:w,$push:x,$pop:O},j=function(t,n,e){if("$"!==n[0])return t.push(h(o(n),e));var r=k[n];r||f(n);for(var i in e)t.push(r(o(i),e[i]))};t.exports=function(t,n,e){var r=[];for(var o in n)j(r,o,n[o]);return r.length?void function n(){t._next(function(t,o,i){if(!o)return e(t);var u=!0,a=!1,c=void 0;try{for(var s,f=r[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var h=s.value;h(o)}}catch(t){a=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(a)throw c}}var p=i.update(o);p.onsuccess=n,p.onerror=function(t){return e(l(t))}})}():e(null)}},function(t,n){"use strict";function e(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[n-2]?2:"="===t[n-1]?1:0}function r(t){return 3*t.length/4-e(t)}function o(t){var n,r,o,i,u,a,c=t.length;u=e(t),a=new f(3*c/4-u),o=u>0?c-4:c;var l=0;for(n=0,r=0;n<o;n+=4,r+=3)i=s[t.charCodeAt(n)]<<18|s[t.charCodeAt(n+1)]<<12|s[t.charCodeAt(n+2)]<<6|s[t.charCodeAt(n+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===u?(i=s[t.charCodeAt(n)]<<2|s[t.charCodeAt(n+1)]>>4,a[l++]=255&i):1===u&&(i=s[t.charCodeAt(n)]<<10|s[t.charCodeAt(n+1)]<<4|s[t.charCodeAt(n+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function i(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function u(t,n,e){for(var r,o=[],u=n;u<e;u+=3)r=(t[u]<<16)+(t[u+1]<<8)+t[u+2],o.push(i(r));return o.join("")}function a(t){for(var n,e=t.length,r=e%3,o="",i=[],a=16383,s=0,f=e-r;s<f;s+=a)i.push(u(t,s,s+a>f?f:s+a));return 1===r?(n=t[e-1],o+=c[n>>2],o+=c[n<<4&63],o+="=="):2===r&&(n=(t[e-2]<<8)+t[e-1],o+=c[n>>10],o+=c[n>>4&63],o+=c[n<<2&63],o+="="),i.push(o),i.join("")}n.byteLength=r,n.toByteArray=o,n.fromByteArray=a;for(var c=[],s=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=l.length;h<p;++h)c[h]=l[h],s[l.charCodeAt(h)]=h;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,n,e){(function(t){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,n){if(o()<n)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=u.prototype):(null===t&&(t=new u(n)),t.length=n),t}function u(t,n,e){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,n,e);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return a(this,t,n,e)}function a(t,n,e,r){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?p(t,n,e,r):"string"==typeof n?l(t,n,e):y(t,n)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function s(t,n,e,r){return c(n),n<=0?i(t,n):void 0!==e?"string"==typeof r?i(t,n).fill(e,r):i(t,n).fill(e):i(t,n)}function f(t,n){if(c(n),t=i(t,n<0?0:0|d(n)),!u.TYPED_ARRAY_SUPPORT)for(var e=0;e<n;++e)t[e]=0;return t}function l(t,n,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(n,e);t=i(t,r);var o=t.write(n,e);return o!==r&&(t=t.slice(0,o)),t}function h(t,n){var e=n.length<0?0:0|d(n.length);t=i(t,e);for(var r=0;r<e;r+=1)t[r]=255&n[r];return t}function p(t,n,e,r){if(n.byteLength,e<0||n.byteLength<e)throw new RangeError("'offset' is out of bounds");if(n.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");return n=void 0===e&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,e):new Uint8Array(n,e,r),u.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=u.prototype):t=h(t,n),t}function y(t,n){if(u.isBuffer(n)){var e=0|d(n.length);return t=i(t,e),0===t.length?t:(n.copy(t,0,0,e),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||J(n.length)?i(t,0):h(t,n);if("Buffer"===n.type&&Z(n.data))return h(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),u.alloc(+t)}function g(t,n){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return H(t).length;default:if(r)return q(t).length;n=(""+n).toLowerCase(),r=!0}}function m(t,n,e){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if(e>>>=0,n>>>=0,e<=n)return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,n,e);case"utf8":case"utf-8":return P(this,n,e);case"ascii":return I(this,n,e);case"latin1":case"binary":return B(this,n,e);case"base64":return S(this,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,n,e);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function _(t,n,e,r,o){if(0===t.length)return-1;if("string"==typeof e?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=o?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(o)return-1;e=t.length-1}else if(e<0){if(!o)return-1;e=0}if("string"==typeof n&&(n=u.from(n,r)),u.isBuffer(n))return 0===n.length?-1:w(t,n,e,r,o);if("number"==typeof n)return n&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,e):Uint8Array.prototype.lastIndexOf.call(t,n,e):w(t,[n],e,r,o);throw new TypeError("val must be string, number or Buffer")}function w(t,n,e,r,o){function i(t,n){return 1===u?t[n]:t.readUInt16BE(n*u)}var u=1,a=t.length,c=n.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;u=2,a/=2,c/=2,e/=2}var s;if(o){var f=-1;for(s=e;s<a;s++)if(i(t,s)===i(n,f===-1?0:s-f)){if(f===-1&&(f=s),s-f+1===c)return f*u}else f!==-1&&(s-=s-f),f=-1}else for(e+c>a&&(e=a-c),s=e;s>=0;s--){for(var l=!0,h=0;h<c;h++)if(i(t,s+h)!==i(n,h)){l=!1;break}if(l)return s}return-1}function x(t,n,e,r){e=Number(e)||0;var o=t.length-e;r?(r=Number(r),r>o&&(r=o)):r=o;var i=n.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var u=0;u<r;++u){var a=parseInt(n.substr(2*u,2),16);if(isNaN(a))return u;t[e+u]=a}return u}function O(t,n,e,r){return Q(q(n,t.length-e),t,e,r)}function k(t,n,e,r){return Q(V(n),t,e,r)}function j(t,n,e,r){return k(t,n,e,r)}function E(t,n,e,r){return Q(H(n),t,e,r)}function A(t,n,e,r){return Q(W(n,t.length-e),t,e,r)}function S(t,n,e){return 0===n&&e===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(n,e))}function P(t,n,e){e=Math.min(t.length,e);for(var r=[],o=n;o<e;){var i=t[o],u=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=e){var c,s,f,l;switch(a){case 1:i<128&&(u=i);break;case 2:c=t[o+1],128===(192&c)&&(l=(31&i)<<6|63&c,l>127&&(u=l));break;case 3:c=t[o+1],s=t[o+2],128===(192&c)&&128===(192&s)&&(l=(15&i)<<12|(63&c)<<6|63&s,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:c=t[o+1],s=t[o+2],f=t[o+3],128===(192&c)&&128===(192&s)&&128===(192&f)&&(l=(15&i)<<18|(63&c)<<12|(63&s)<<6|63&f,l>65535&&l<1114112&&(u=l))}}null===u?(u=65533,a=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=a}return T(r)}function T(t){var n=t.length;if(n<=tt)return String.fromCharCode.apply(String,t);for(var e="",r=0;r<n;)e+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return e}function I(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;++o)r+=String.fromCharCode(127&t[o]);return r}function B(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;++o)r+=String.fromCharCode(t[o]);return r}function C(t,n,e){var r=t.length;(!n||n<0)&&(n=0),(!e||e<0||e>r)&&(e=r);for(var o="",i=n;i<e;++i)o+=z(t[i]);return o}function R(t,n,e){for(var r=t.slice(n,e),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function D(t,n,e){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+n>e)throw new RangeError("Trying to access beyond buffer length")}function U(t,n,e,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<i)throw new RangeError('"value" argument is out of bounds');if(e+r>t.length)throw new RangeError("Index out of range")}function M(t,n,e,r){n<0&&(n=65535+n+1);for(var o=0,i=Math.min(t.length-e,2);o<i;++o)t[e+o]=(n&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(t,n,e,r){n<0&&(n=4294967295+n+1);for(var o=0,i=Math.min(t.length-e,4);o<i;++o)t[e+o]=n>>>8*(r?o:3-o)&255}function N(t,n,e,r,o,i){if(e+r>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function F(t,n,e,r,o){return o||N(t,n,e,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(t,n,e,r,23,4),e+4}function $(t,n,e,r,o){return o||N(t,n,e,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(t,n,e,r,52,8),e+8}function K(t){if(t=Y(t).replace(nt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,n){n=n||1/0;for(var e,r=t.length,o=null,i=[],u=0;u<r;++u){if(e=t.charCodeAt(u),e>55295&&e<57344){if(!o){if(e>56319){(n-=3)>-1&&i.push(239,191,189);continue}if(u+1===r){(n-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(n-=3)>-1&&i.push(239,191,189),o=e;continue}e=(o-55296<<10|e-56320)+65536}else o&&(n-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((n-=1)<0)break;i.push(e)}else if(e<2048){if((n-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function V(t){for(var n=[],e=0;e<t.length;++e)n.push(255&t.charCodeAt(e));return n}function W(t,n){for(var e,r,o,i=[],u=0;u<t.length&&!((n-=2)<0);++u)e=t.charCodeAt(u),r=e>>8,o=e%256,i.push(o),i.push(r);return i}function H(t){return X.toByteArray(K(t))}function Q(t,n,e,r){for(var o=0;o<r&&!(o+e>=n.length||o>=t.length);++o)n[o+e]=t[o];return o}function J(t){return t!==t}var X=e(43),G=e(76),Z=e(77);n.Buffer=u,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,n,e){return a(null,t,n,e)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,n,e){return s(null,t,n,e)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,n){if(!u.isBuffer(t)||!u.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var e=t.length,r=n.length,o=0,i=Math.min(e,r);o<i;++o)if(t[o]!==n[o]){e=t[o],r=n[o];break}return e<r?-1:r<e?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,n){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var e;if(void 0===n)for(n=0,e=0;e<t.length;++e)n+=t[e].length;var r=u.allocUnsafe(n),o=0;for(e=0;e<t.length;++e){var i=t[e];if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)b(this,n,n+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)b(this,n,n+3),b(this,n+1,n+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)b(this,n,n+7),b(this,n+1,n+6),b(this,n+2,n+5),b(this,n+3,n+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):m.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,n,e,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===e&&(e=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),n<0||e>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&n>=e)return 0;if(r>=o)return-1;if(n>=e)return 1;if(n>>>=0,e>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,a=e-n,c=Math.min(i,a),s=this.slice(r,o),f=t.slice(n,e),l=0;l<c;++l)if(s[l]!==f[l]){i=s[l],a=f[l];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,n,e){return this.indexOf(t,n,e)!==-1},u.prototype.indexOf=function(t,n,e){return _(this,t,n,e,!0)},u.prototype.lastIndexOf=function(t,n,e){return _(this,t,n,e,!1)},u.prototype.write=function(t,n,e,r){if(void 0===n)r="utf8",e=this.length,n=0;else if(void 0===e&&"string"==typeof n)r=n,e=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(e)?(e|=0,void 0===r&&(r="utf8")):(r=e,e=void 0)}var o=this.length-n;if((void 0===e||e>o)&&(e=o),t.length>0&&(e<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return x(this,t,n,e);case"utf8":case"utf-8":return O(this,t,n,e);case"ascii":return k(this,t,n,e);case"latin1":case"binary":return j(this,t,n,e);case"base64":return E(this,t,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n,e);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;u.prototype.slice=function(t,n){var e=this.length;t=~~t,n=void 0===n?e:~~n,t<0?(t+=e,t<0&&(t=0)):t>e&&(t=e),n<0?(n+=e,n<0&&(n=0)):n>e&&(n=e),n<t&&(n=t);var r;if(u.TYPED_ARRAY_SUPPORT)r=this.subarray(t,n),r.__proto__=u.prototype;else{var o=n-t;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},u.prototype.readUIntLE=function(t,n,e){t|=0,n|=0,e||D(t,n,this.length);for(var r=this[t],o=1,i=0;++i<n&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,n,e){t|=0,n|=0,e||D(t,n,this.length);for(var r=this[t+--n],o=1;n>0&&(o*=256);)r+=this[t+--n]*o;return r},u.prototype.readUInt8=function(t,n){return n||D(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,n){return n||D(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,n){return n||D(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,n){return n||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,n){return n||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,n,e){t|=0,n|=0,e||D(t,n,this.length);for(var r=this[t],o=1,i=0;++i<n&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*n)),r},u.prototype.readIntBE=function(t,n,e){t|=0,n|=0,e||D(t,n,this.length);for(var r=n,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*n)),i},u.prototype.readInt8=function(t,n){return n||D(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},u.prototype.readInt16LE=function(t,n){n||D(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},u.prototype.readInt16BE=function(t,n){n||D(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},u.prototype.readInt32LE=function(t,n){return n||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,n){return n||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,n){return n||D(t,4,this.length),G.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,n){return n||D(t,4,this.length),G.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,n){return n||D(t,8,this.length),G.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,n){return n||D(t,8,this.length),G.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,n,e,r){if(t=+t,n|=0,e|=0,!r){var o=Math.pow(2,8*e)-1;U(this,t,n,e,o,0)}var i=1,u=0;for(this[n]=255&t;++u<e&&(i*=256);)this[n+u]=t/i&255;return n+e},u.prototype.writeUIntBE=function(t,n,e,r){if(t=+t,n|=0,e|=0,!r){var o=Math.pow(2,8*e)-1;U(this,t,n,e,o,0)}var i=e-1,u=1;for(this[n+i]=255&t;--i>=0&&(u*=256);)this[n+i]=t/u&255;return n+e},u.prototype.writeUInt8=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},u.prototype.writeUInt16LE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):M(this,t,n,!0),n+2},u.prototype.writeUInt16BE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):M(this,t,n,!1),n+2},u.prototype.writeUInt32LE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):L(this,t,n,!0),n+4},u.prototype.writeUInt32BE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):L(this,t,n,!1),n+4},u.prototype.writeIntLE=function(t,n,e,r){if(t=+t,n|=0,!r){var o=Math.pow(2,8*e-1);U(this,t,n,e,o-1,-o)}var i=0,u=1,a=0;for(this[n]=255&t;++i<e&&(u*=256);)t<0&&0===a&&0!==this[n+i-1]&&(a=1),this[n+i]=(t/u>>0)-a&255;return n+e},u.prototype.writeIntBE=function(t,n,e,r){if(t=+t,n|=0,!r){var o=Math.pow(2,8*e-1);U(this,t,n,e,o-1,-o)}var i=e-1,u=1,a=0;for(this[n+i]=255&t;--i>=0&&(u*=256);)t<0&&0===a&&0!==this[n+i+1]&&(a=1),this[n+i]=(t/u>>0)-a&255;return n+e},u.prototype.writeInt8=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},u.prototype.writeInt16LE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):M(this,t,n,!0),n+2},u.prototype.writeInt16BE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):M(this,t,n,!1),n+2},u.prototype.writeInt32LE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):L(this,t,n,!0),n+4},u.prototype.writeInt32BE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):L(this,t,n,!1),n+4},u.prototype.writeFloatLE=function(t,n,e){return F(this,t,n,!0,e)},u.prototype.writeFloatBE=function(t,n,e){return F(this,t,n,!1,e)},u.prototype.writeDoubleLE=function(t,n,e){return $(this,t,n,!0,e)},u.prototype.writeDoubleBE=function(t,n,e){return $(this,t,n,!1,e)},u.prototype.copy=function(t,n,e,r){if(e||(e=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<e&&(r=e),r===e)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-e&&(r=t.length-n+e);var o,i=r-e;if(this===t&&e<n&&n<r)for(o=i-1;o>=0;--o)t[o+n]=this[o+e];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+n]=this[o+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+i),n);return i},u.prototype.fill=function(t,n,e,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,e=this.length):"string"==typeof e&&(r=e,e=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<e)throw new RangeError("Out of range index");if(e<=n)return this;n>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0);var i;if("number"==typeof t)for(i=n;i<e;++i)this[i]=t;else{var a=u.isBuffer(t)?t:q(new u(t,r).toString()),c=a.length;for(i=0;i<e-n;++i)this[i+n]=a[i%c]}return this};var nt=/[^+\/0-9A-Za-z-_]/g}).call(n,function(){return this}())},function(t,n,e){(function(n,e){!function(n,e){t.exports=e()}(this,function(){"use strict";function t(t,n){return"object"!=typeof n?t:(Ct(n).forEach(function(e){t[e]=n[e]}),t)}function r(t,n){return Mt.call(t,n)}function o(t,n){"function"==typeof n&&(n=n(Ut(t))),Ct(n).forEach(function(e){i(t,e,n[e])})}function i(n,e,o,i){Lt(n,e,t(o&&r(o,"get")&&"function"==typeof o.get?{get:o.get,set:o.set,configurable:!0}:{value:o,configurable:!0,writable:!0},i))}function u(t){return{from:function(n){return t.prototype=Object.create(n.prototype),i(t.prototype,"constructor",t),{extend:o.bind(null,t.prototype)}}}}function a(t,n){var e,r=Nt(t,n);return r||(e=Ut(t))&&a(e,n)}function c(t,n,e){return Ft.call(t,n,e)}function s(t,n){return n(t)}function f(t){var n=setTimeout(t,1e3);clearTimeout(n)}function l(t){if(!t)throw new Error("Assertion Failed")}function h(t){Dt.setImmediate?e(t):setTimeout(t,0)}function p(t,n){return t.reduce(function(t,e,r){var o=n(e,r);return o&&(t[o[0]]=o[1]),t},{})}function y(t,n){return function(){try{t.apply(this,arguments)}catch(t){n(t)}}}function d(t,n,e){try{t.apply(null,e)}catch(t){n&&n(t)}}function v(t,n){if(r(t,n))return t[n];if(!n)return t;if("string"!=typeof n){for(var e=[],o=0,i=n.length;o<i;++o){var u=v(t,n[o]);e.push(u)}return e}var a=n.indexOf(".");if(a!==-1){var c=t[n.substr(0,a)];return void 0===c?void 0:v(c,n.substr(a+1))}}function g(t,n,e){if(t&&void 0!==n&&!("isFrozen"in Object&&Object.isFrozen(t)))if("string"!=typeof n&&"length"in n){l("string"!=typeof e&&"length"in e);for(var r=0,o=n.length;r<o;++r)g(t,n[r],e[r])}else{var i=n.indexOf(".");if(i!==-1){var u=n.substr(0,i),a=n.substr(i+1);if(""===a)void 0===e?delete t[u]:t[u]=e;else{var c=t[u];c||(c=t[u]={}),g(c,a,e)}}else void 0===e?delete t[n]:t[n]=e}}function m(t,n){"string"==typeof n?g(t,n,void 0):"length"in n&&[].map.call(n,function(n){g(t,n,void 0)})}function b(t){var n={};for(var e in t)r(t,e)&&(n[e]=t[e]);return n}function _(t){return $t.apply([],t)}function w(t){if(!t||"object"!=typeof t)return t;var n;if(Rt(t)){n=[];for(var e=0,o=t.length;e<o;++e)n.push(w(t[e]))}else if(Kt.indexOf(t.constructor)>=0)n=t;else{n=t.constructor?Object.create(t.constructor.prototype):{};for(var i in t)r(t,i)&&(n[i]=w(t[i]))}return n}function x(t,n,e,o){return e=e||{},o=o||"",Ct(t).forEach(function(i){if(r(n,i)){var u=t[i],a=n[i];"object"==typeof u&&"object"==typeof a&&u&&a&&u.constructor===a.constructor?x(u,a,e,o+i+"."):u!==a&&(e[o+i]=n[i])}else e[o+i]=void 0}),Ct(n).forEach(function(i){r(t,i)||(e[o+i]=n[i])}),e}function O(t){var n,e,r,o;if(1===arguments.length){if(Rt(t))return t.slice();if(this===qt&&"string"==typeof t)return[t];if(o=zt(t)){for(e=[];r=o.next(),!r.done;)e.push(r.value);return e}if(null==t)return[t];if(n=t.length,"number"==typeof n){for(e=new Array(n);n--;)e[n]=t[n];return e}return[t]}for(n=arguments.length,e=new Array(n);n--;)e[n]=arguments[n];return e}function k(t,n){Vt=t,Wt=n}function j(){if(Ht)try{throw j.arguments,new Error}catch(t){return t}return new Error}function E(t,n){var e=t.stack;return e?(n=n||0,0===e.indexOf(t.name)&&(n+=(t.name+t.message).split("\n").length),e.split("\n").slice(n).filter(Wt).map(function(t){return"\n"+t}).join("")):""}function A(t,n){return function(){return console.warn(t+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+E(j(),1)),n.apply(this,arguments)}}function S(t,n){this._e=j(),this.name=t,this.message=n}function P(t,n){return t+". Errors: "+n.map(function(t){return t.toString()}).filter(function(t,n,e){return e.indexOf(t)===n}).join("\n")}function T(t,n,e,r){this._e=j(),this.failures=n,this.failedKeys=r,this.successCount=e}function I(t,n){this._e=j(),this.name="BulkError",this.failures=n,this.message=P(t,n)}function B(t,n){if(!t||t instanceof S||t instanceof TypeError||t instanceof SyntaxError||!t.name||!en[t.name])return t;var e=new en[t.name](n||t.message,t);return"stack"in t&&i(e,"stack",{get:function(){return this.inner.stack}}),e}function C(){}function R(t){return t}function D(t,n){return null==t||t===R?n:function(e){return n(t(e))}}function U(t,n){return function(){t.apply(this,arguments),n.apply(this,arguments)}}function M(t,n){return t===C?n:function(){var e=t.apply(this,arguments);void 0!==e&&(arguments[0]=e);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=n.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?U(r,this.onsuccess):r),o&&(this.onerror=this.onerror?U(o,this.onerror):o),void 0!==i?i:e}}function L(t,n){return t===C?n:function(){t.apply(this,arguments);var e=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?U(e,this.onsuccess):e),r&&(this.onerror=this.onerror?U(r,this.onerror):r)}}function N(n,e){return n===C?e:function(r){var o=n.apply(this,arguments);t(r,o);var i=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?U(i,this.onsuccess):i),u&&(this.onerror=this.onerror?U(u,this.onerror):u),void 0===o?void 0===a?void 0:a:t(o,a)}}function F(t,n){return t===C?n:function(){return n.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function $(t,n){return t===C?n:function(){var e=t.apply(this,arguments);if(e&&"function"==typeof e.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return e.then(function(){return n.apply(r,i)})}return n.apply(this,arguments)}}function K(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=C,this._lib=!1;var n=this._PSD=An;if(Vt&&(this._stackHolder=j(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==on)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&q(this,this._value))}this._state=null,this._value=null,++n.ref,z(this,t)}function Y(t,n,e,r,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.resolve=e,this.reject=r,this.psd=o}function z(t,n){try{n(function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var e=t._lib&&G();n&&"function"==typeof n.then?z(t,function(t,e){n instanceof K?n._then(t,e):n.then(t,e)}):(t._state=!0,t._value=n,V(t)),e&&Z()}},q.bind(null,t))}catch(n){q(t,n)}}function q(t,n){if(On.push(n),null===t._state){var e=t._lib&&G();n=jn(n),t._state=!1,t._value=n,Vt&&null!==n&&"object"==typeof n&&!n._promise&&d(function(){var e=a(n,"stack");n._promise=t,i(n,"stack",{get:function(){return gn?e&&(e.get?e.get.apply(n):e.value):t.stack}})}),et(t),V(t),e&&Z()}}function V(t){var n=t._listeners;t._listeners=[];for(var e=0,r=n.length;e<r;++e)W(t,n[e]);var o=t._PSD;--o.ref||o.finalize(),0===Pn&&(++Pn,bn(function(){0===--Pn&&tt()},[]))}function W(t,n){if(null===t._state)return void t._listeners.push(n);var e=t._state?n.onFulfilled:n.onRejected;return null===e?(t._state?n.resolve:n.reject)(t._value):(++n.psd.ref,++Pn,void bn(H,[e,t,n]))}function H(t,n,e){try{kn=n;var r,o=n._value;n._state?r=t(o):(On.length&&(On=[]),r=t(o),On.indexOf(o)===-1&&rt(n)),e.resolve(r)}catch(t){e.reject(t)}finally{kn=null,0===--Pn&&tt(),--e.psd.ref||e.psd.finalize()}}function Q(t,n,e){if(n.length===e)return n;var r="";if(t._state===!1){var o,i,u=t._value;null!=u?(o=u.name||"Error",i=u.message||u,r=E(u,0)):(o=u,i=""),n.push(o+(i?": "+i:"")+r)}return Vt&&(r=E(t._stackHolder,2),r&&n.indexOf(r)===-1&&n.push(r),t._prev&&Q(t._prev,n,e)),n}function J(t,n){var e=n?n._numPrev+1:0;e<un&&(t._prev=n,t._numPrev=e)}function X(){G()&&Z()}function G(){var t=_n;return _n=!1,wn=!1,t}function Z(){var t,n,e;do for(;Sn.length>0;)for(t=Sn,Sn=[],e=t.length,n=0;n<e;++n){var r=t[n];r[0].apply(null,r[1])}while(Sn.length>0);_n=!0,wn=!0}function tt(){var t=xn;xn=[],t.forEach(function(t){t._PSD.onunhandled.call(null,t._value,t)});for(var n=Tn.slice(0),e=n.length;e;)n[--e]()}function nt(t){function n(){t(),Tn.splice(Tn.indexOf(n),1)}Tn.push(n),++Pn,bn(function(){0===--Pn&&tt()},[])}function et(t){xn.some(function(n){return n._value===t._value})||xn.push(t)}function rt(t){for(var n=xn.length;n;)if(xn[--n]._value===t._value)return void xn.splice(n,1)}function ot(t){return new K(on,!1,t)}function it(t,n){var e=An;return function(){var r=G(),o=An;try{return ht(e,!0),t.apply(this,arguments)}catch(t){n&&n(t)}finally{ht(o,!1),r&&Z()}}}function ut(n,e,r,o){var i=An,u=Object.create(i);u.parent=i,u.ref=0,u.global=!1,u.id=++Mn;var a=En.env;u.env=vn?{Promise:K,all:K.all,race:K.race,resolve:K.resolve,reject:K.reject,nthen:gt(a.nthen,u),gthen:gt(a.gthen,u)}:{},e&&t(u,e),++i.ref,u.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=yt(u,n,r,o);return 0===u.ref&&u.finalize(),c}function at(){return Bn.id||(Bn.id=++Cn),++Bn.awaits,Bn.echoes+=cn,Bn.id}function ct(t){!Bn.awaits||t&&t!==Bn.id||(0===--Bn.awaits&&(Bn.id=0),Bn.echoes=Bn.awaits*cn)}function st(t){return Bn.echoes&&t&&t.constructor===yn?(at(),t.then(function(t){return ct(),t},function(t){return ct(),Fn(t)})):t}function ft(t){++Un,Bn.echoes&&0!==--Bn.echoes||(Bn.echoes=Bn.id=0),Rn.push(An),ht(t,!0)}function lt(){var t=Rn[Rn.length-1];Rn.pop(),ht(t,!1)}function ht(t,n){var e=An;if((n?!Bn.echoes||Dn++&&t===An:!Dn||--Dn&&t===An)||dt(n?ft.bind(null,t):lt),t!==An&&(An=t,e===En&&(En.env=pt()),vn)){var r=En.env.Promise,o=t.env;ln.then=o.nthen,r.prototype.then=o.gthen,(e.global||t.global)&&(Dt.Promise=o.Promise,r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject)}}function pt(){var t=Dt.Promise;return vn?{Promise:t,all:t.all,race:t.race,resolve:t.resolve,reject:t.reject,nthen:ln.then,gthen:t.prototype.then}:{}}function yt(t,n,e,r,o){var i=An;try{return ht(t,!0),n(e,r,o)}finally{ht(i,!1)}}function dt(t){pn.call(fn,t)}function vt(t,n,e){return"function"!=typeof t?t:function(){var r=An;e&&at(),ht(n,!0);try{return t.apply(this,arguments)}finally{ht(r,!1)}}}function gt(t,n){return function(e,r){return t.call(this,vt(e,n,!1),vt(r,n,!1))}}function mt(n,e){var r;try{r=e.onuncatched(n)}catch(t){}if(r!==!1)try{var o,i={promise:e,reason:n};if(Dt.document&&document.createEvent?(o=document.createEvent("Event"),o.initEvent(Ln,!0,!0),t(o,i)):Dt.CustomEvent&&(o=new CustomEvent(Ln,{detail:i}),t(o,i)),o&&Dt.dispatchEvent&&(dispatchEvent(o),!Dt.PromiseRejectionEvent&&Dt.onunhandledrejection))try{Dt.onunhandledrejection(o)}catch(t){}o.defaultPrevented||console.warn("Unhandled rejection: "+(n.stack||n))}catch(t){}}function bt(t){function n(t,n,i){if("object"==typeof t)return e(t);n||(n=F),i||(i=C);var u={subscribers:[],fire:i,subscribe:function(t){u.subscribers.indexOf(t)===-1&&(u.subscribers.push(t),u.fire=n(u.fire,t))},unsubscribe:function(t){u.subscribers=u.subscribers.filter(function(n){return n!==t}),u.fire=u.subscribers.reduce(n,i)}};return r[t]=o[t]=u,u}function e(t){Ct(t).forEach(function(e){var r=t[e];if(Rt(r))n(e,t[e][0],t[e][1]);else{if("asap"!==r)throw new nn.InvalidArgument("Invalid event config");var o=n(e,R,function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];o.subscribers.forEach(function(t){h(function(){t.apply(null,n)})})})}})}var r={},o=function(n,e){if(e){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return r[n].subscribe.apply(null,i),t}if("string"==typeof n)return r[n]};o.addEventType=n;for(var i=1,u=arguments.length;i<u;++i)n(arguments[i]);return o}function _t(n,e){function u(){tn.on("versionchange",function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+tn.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+tn.name+"'. Closing db now to resume the delete request."),tn.close()}),tn.on("blocked",function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+tn.name+"') was blocked"):console.warn("Upgrade '"+tn.name+"' blocked by other connection holding version "+t.oldVersion/10)})}function a(t){this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function h(t,n,e){var r=tn._createTransaction(Zt,Yt,$t);r.create(n),
r._completion.catch(e);var o=r._reject.bind(r);ut(function(){An.trans=r,0===t?(Ct($t).forEach(function(t){E(n,t,$t[t].primKey,$t[t].indexes)}),K.follow(function(){return tn.on.populate.fire(r)}).catch(o)):m(t,r,n).catch(o)})}function m(t,n,e){function r(){return o.length?K.resolve(o.shift()(n.idbtrans)).then(r):K.resolve()}var o=[],i=Kt.filter(function(n){return n._cfg.version===t})[0];if(!i)throw new nn.Upgrade("Dexie specification of currently installed DB version is missing");$t=tn._dbSchema=i._cfg.dbschema;var u=!1,a=Kt.filter(function(n){return n._cfg.version>t});return a.forEach(function(t){o.push(function(){var r=$t,o=t._cfg.dbschema;dt(r,e),dt(o,e),$t=tn._dbSchema=o;var i=k(r,o);if(i.add.forEach(function(t){E(e,t[0],t[1].primKey,t[1].indexes)}),i.change.forEach(function(t){if(t.recreate)throw new nn.Upgrade("Not yet support for changing primary key");var n=e.objectStore(t.name);t.add.forEach(function(t){B(n,t)}),t.change.forEach(function(t){n.deleteIndex(t.name),B(n,t)}),t.del.forEach(function(t){n.deleteIndex(t)})}),t._cfg.contentUpgrade)return u=!0,K.follow(function(){t._cfg.contentUpgrade(n)})}),o.push(function(n){if(!u||!Qn){var e=t._cfg.dbschema;P(e,n)}})}),r().then(function(){S($t,e)})}function k(t,n){var e={del:[],add:[],change:[]};for(var r in t)n[r]||e.del.push(r);for(r in n){var o=t[r],i=n[r];if(o){var u={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(o.primKey.src!==i.primKey.src)u.recreate=!0,e.change.push(u);else{var a=o.idxByName,c=i.idxByName;for(var s in a)c[s]||u.del.push(s);for(s in c){var f=a[s],l=c[s];f?f.src!==l.src&&u.change.push(l):u.add.push(l)}(u.del.length>0||u.add.length>0||u.change.length>0)&&e.change.push(u)}}else e.add.push([r,i])}return e}function E(t,n,e,r){var o=t.db.createObjectStore(n,e.keyPath?{keyPath:e.keyPath,autoIncrement:e.auto}:{autoIncrement:e.auto});return r.forEach(function(t){B(o,t)}),o}function S(t,n){Ct(t).forEach(function(e){n.db.objectStoreNames.contains(e)||E(n,e,t[e].primKey,t[e].indexes)})}function P(t,n){for(var e=0;e<n.db.objectStoreNames.length;++e){var r=n.db.objectStoreNames[e];null==t[r]&&n.db.deleteObjectStore(r)}}function B(t,n){t.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function U(t,n,e){if(Xt||An.letThrough){var r=tn._createTransaction(t,n,$t);try{r.create()}catch(t){return Fn(t)}return r._promise(t,function(t,n){return ut(function(){return An.trans=r,e(t,n,r)})}).then(function(t){return r._completion.then(function(){return t})})}if(!Qt){if(!Lt)return Fn(new nn.DatabaseClosed);tn.open().catch(C)}return en.then(function(){return U(t,n,e)})}function F(t,n,e){var r=arguments.length;if(r<2)throw new nn.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];e=o.pop();var i=_(o);return[t,i,e]}function Y(t,n,e){this.name=t,this.schema=n,this._tx=e,this.hook=zt[t]?zt[t].hook:bt(null,{creating:[M,C],reading:[D,R],updating:[N,C],deleting:[L,C]})}function z(t,n,e){return(e?Et:kt)(function(e){t.push(e),n&&n()})}function q(t,n,e,r,o){return new K(function(i,u){var a=e.length,c=a-1;if(0===a)return i();if(r){var s,f=Et(u),l=Ot(null);d(function(){for(var r=0;r<a;++r){s={onsuccess:null,onerror:null};var u=e[r];o.call(s,u[0],u[1],n);var h=t.delete(u[0]);h._hookCtx=s,h.onerror=f,r===c?h.onsuccess=Ot(i):h.onsuccess=l}},function(t){throw s.onerror&&s.onerror(t),t})}else for(var h=0;h<a;++h){var p=t.delete(e[h]);p.onerror=kt(u),h===c&&(p.onsuccess=it(function(){return i()}))}})}function V(t,n,e,r){var o=this;this.db=tn,this.mode=t,this.storeNames=n,this.idbtrans=null,this.on=bt(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new K(function(t,n){o._resolve=t,o._reject=n}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(t){var n=o.active;return o.active=!1,o.on.error.fire(t),o.parent?o.parent._reject(t):n&&o.idbtrans&&o.idbtrans.abort(),Fn(t)})}function W(t,n,e){this._ctx={table:t,index:":id"===n?null:n,or:e}}function H(t,n){var e=null,r=null;if(n)try{e=n()}catch(t){r=t}var o=t._ctx,i=o.table;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:e,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:i.hook.reading.fire}}function Q(t,n){return!(t.filter||t.algorithm||t.or)&&(n?t.justLimit:!t.replayFilter)}function J(t,n){return t._cfg.version-n._cfg.version}function X(t,n,e){n.forEach(function(n){var r=e[n];t.forEach(function(t){n in t||(t===V.prototype||t instanceof V?i(t,n,{get:function(){return this.table(n)}}):t[n]=new Y(n,r))})})}function G(t){t.forEach(function(t){for(var n in t)t[n]instanceof Y&&delete t[n]})}function Z(t,n,e,r,o,i){var u=i?function(t,n,r){return e(i(t),n,r)}:e,a=it(u,o);t.onerror||(t.onerror=kt(o)),n?t.onsuccess=y(function(){var e=t.result;if(e){var i=function(){e.continue()};n(e,function(t){i=t},r,o)&&a(e.value,e,function(t){i=t}),i()}else r()},o):t.onsuccess=y(function(){var n=t.result;if(n){var e=function(){n.continue()};a(n.value,n,function(t){e=t}),e()}else r()},o)}function tt(t){var n=[];return t.split(",").forEach(function(t){t=t.trim();var e=t.replace(/([&*]|\+\+)/g,""),r=/^\[/.test(e)?e.match(/^\[(.*)\]$/)[1].split("+"):e;n.push(new Pt(e,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Rt(r),/\./.test(t)))}),n}function nt(t,n){return Nt.cmp(t,n)}function et(t,n){return nt(t,n)<0?t:n}function rt(t,n){return nt(t,n)>0?t:n}function ot(t,n){return Nt.cmp(t,n)}function st(t,n){return Nt.cmp(n,t)}function ft(t,n){return t<n?-1:t===n?0:1}function lt(t,n){return t>n?-1:t===n?0:1}function ht(t,n){return t?n?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:t:n}function pt(){if(tn.verno=Wt.version/10,tn._dbSchema=$t={},Yt=c(Wt.objectStoreNames,0),0!==Yt.length){var t=Wt.transaction(It(Yt),"readonly");Yt.forEach(function(n){for(var e=t.objectStore(n),r=e.keyPath,o=r&&"string"==typeof r&&r.indexOf(".")!==-1,i=new Pt(r,r||"",!1,!1,!!e.autoIncrement,r&&"string"!=typeof r,o),u=[],a=0;a<e.indexNames.length;++a){var c=e.index(e.indexNames[a]);r=c.keyPath,o=r&&"string"==typeof r&&r.indexOf(".")!==-1;var s=new Pt(c.name,r,!!c.unique,!!c.multiEntry,!1,r&&"string"!=typeof r,o);u.push(s)}$t[n]=new Tt(n,i,u,{})}),X([zt],Ct($t),$t)}}function dt(t,n){for(var e=n.db.objectStoreNames,r=0;r<e.length;++r){var o=e[r],i=n.objectStore(o);wt="getAll"in i;for(var u=0;u<i.indexNames.length;++u){var a=i.indexNames[u],s=i.index(a).keyPath,f="string"==typeof s?s:"["+c(s).join("+")+"]";if(t[o]){var l=t[o].idxByName[f];l&&(l.name=a)}}}}function vt(t){tn.on("blocked").fire(t),Wn.filter(function(t){return t.name===tn.name&&t!==tn&&!t._vcFired}).map(function(n){return n.on("versionchange").fire(t)})}var gt,mt,wt,Dt=_t.dependencies,Ut=t({addons:_t.addons,autoOpen:!0,indexedDB:Dt.indexedDB,IDBKeyRange:Dt.IDBKeyRange},e),Mt=Ut.addons,Lt=Ut.autoOpen,Nt=Ut.indexedDB,Ft=Ut.IDBKeyRange,$t=this._dbSchema={},Kt=[],Yt=[],zt={},Wt=null,Ht=null,Qt=!1,Jt=null,Xt=!1,Gt="readonly",Zt="readwrite",tn=this,en=new K(function(t){gt=t}),rn=new K(function(t,n){mt=n}),on=!0,un=!!Bt(Nt);this.version=function(t){if(Wt||Qt)throw new nn.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=Kt.filter(function(n){return n._cfg.version===t})[0];return n?n:(n=new a(t),Kt.push(n),Kt.sort(J),on=!1,n)},t(a.prototype,{stores:function(n){this._cfg.storesSource=this._cfg.storesSource?t(this._cfg.storesSource,n):n;var e={};Kt.forEach(function(n){t(e,n._cfg.storesSource)});var r=this._cfg.dbschema={};return this._parseStoresSpec(e,r),$t=tn._dbSchema=r,G([zt,tn,V.prototype]),X([zt,tn,V.prototype,this._cfg.tables],Ct(r),r),Yt=Ct(r),this},upgrade:function(t){var n=this;return Gn(function(){t(tn._createTransaction(Zt,Ct(n._cfg.dbschema),n._cfg.dbschema))}),this._cfg.contentUpgrade=t,this},_parseStoresSpec:function(t,n){Ct(t).forEach(function(e){if(null!==t[e]){var r={},o=tt(t[e]),i=o.shift();if(i.multi)throw new nn.Schema("Primary key cannot be multi-valued");i.keyPath&&g(r,i.keyPath,i.auto?0:i.keyPath),o.forEach(function(t){if(t.auto)throw new nn.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new nn.Schema("Index must have a name and cannot be an empty string");g(r,t.keyPath,t.compound?t.keyPath.map(function(){return""}):"")}),n[e]=new Tt(e,i,o,r)}})}}),this._allTables=zt,this._createTransaction=function(t,n,e,r){return new V(t,n,e,r)},this._whenReady=function(t){return Zn||Xt||An.letThrough?t():new K(function(t,n){if(!Qt){if(!Lt)return void n(new nn.DatabaseClosed);tn.open().catch(C)}en.then(t,n)}).then(t)},this.verno=0,this.open=function(){if(Qt||Wt)return en.then(function(){return Ht?Fn(Ht):tn});Vt&&(rn._stackHolder=j()),Qt=!0,Ht=null,Xt=!1;var t=gt,e=null;return K.race([rn,new K(function(t,r){if(f(function(){return t()}),!Nt)throw new nn.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var o=on?Nt.open(n):Nt.open(n,Math.round(10*tn.verno));if(!o)throw new nn.MissingAPI("IndexedDB API not available");o.onerror=kt(r),o.onblocked=it(vt),o.onupgradeneeded=it(function(t){if(e=o.transaction,on&&!tn._allowEmptyDB){o.onerror=At,e.abort(),o.result.close();var i=Nt.deleteDatabase(n);i.onsuccess=i.onerror=it(function(){r(new nn.NoSuchDatabase("Database "+n+" doesnt exist"))})}else{e.onerror=kt(r);var u=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;h(u/10,e,r,o)}},r),o.onsuccess=it(function(){if(e=null,Wt=o.result,Wn.push(tn),on)pt();else if(Wt.objectStoreNames.length>0)try{dt($t,Wt.transaction(It(Wt.objectStoreNames),Gt))}catch(t){}Wt.onversionchange=it(function(t){tn._vcFired=!0,tn.on("versionchange").fire(t)}),un||"__dbnames"===n||Nn.dbnames.put({name:n}).catch(C),t()},r)})]).then(function(){return Jt=[],K.resolve(_t.vip(tn.on.ready.fire)).then(function t(){if(Jt.length>0){var n=Jt.reduce($,C);return Jt=[],K.resolve(_t.vip(n)).then(t)}})}).finally(function(){Jt=null}).then(function(){return Qt=!1,tn}).catch(function(t){try{e&&e.abort()}catch(t){}return Qt=!1,tn.close(),Ht=t,Fn(Ht)}).finally(function(){Xt=!0,t()})},this.close=function(){var t=Wn.indexOf(tn);if(t>=0&&Wn.splice(t,1),Wt){try{Wt.close()}catch(t){}Wt=null}Lt=!1,Ht=new nn.DatabaseClosed,Qt&&mt(Ht),en=new K(function(t){gt=t}),rn=new K(function(t,n){mt=n})},this.delete=function(){var t=arguments.length>0;return new K(function(e,r){function o(){tn.close();var t=Nt.deleteDatabase(n);t.onsuccess=it(function(){un||Nn.dbnames.delete(n).catch(C),e()}),t.onerror=kt(r),t.onblocked=vt}if(t)throw new nn.InvalidArgument("Arguments not allowed in db.delete()");Qt?en.then(o):o()})},this.backendDB=function(){return Wt},this.isOpen=function(){return null!==Wt},this.hasBeenClosed=function(){return Ht&&Ht instanceof nn.DatabaseClosed},this.hasFailed=function(){return null!==Ht},this.dynamicallyOpened=function(){return on},this.name=n,o(this,{tables:{get:function(){return Ct(zt).map(function(t){return zt[t]})}}}),this.on=bt(this,"populate","blocked","versionchange",{ready:[$,C]}),this.on.ready.subscribe=s(this.on.ready.subscribe,function(t){return function(n,e){_t.vip(function(){Xt?(Ht||K.resolve().then(n),e&&t(n)):Jt?(Jt.push(n),e&&t(n)):(t(n),e||t(function t(){tn.on.ready.unsubscribe(n),tn.on.ready.unsubscribe(t)}))})}}),Gn(function(){tn.on("populate").fire(tn._createTransaction(Zt,Yt,$t))}),this.transaction=function(){var t=F.apply(this,arguments);return this._transaction.apply(this,t)},this._transaction=function(t,n,e){function r(){return K.resolve().then(function(){var n=An.transless||An,r=tn._createTransaction(t,u,$t,o),i={trans:r,transless:n};o?r.idbtrans=o.idbtrans:r.create(),e.constructor===dn&&at();var a,c=K.follow(function(){if(a=e.call(r,r))if(a.constructor===yn){var t=ct.bind(null,null);a.then(t,t)}else"function"==typeof a.next&&"function"==typeof a.throw&&(a=St(a))},i);return(a&&"function"==typeof a.then?K.resolve(a).then(function(t){return r.active?t:Fn(new nn.PrematureCommit("Transaction committed too early. See http://bit.ly/2eVASrf"))}):c.then(function(){return a})).then(function(t){return o&&r._resolve(),r._completion.then(function(){return t})}).catch(function(t){return r._reject(t),Fn(t)})})}var o=An.trans;o&&o.db===tn&&t.indexOf("!")===-1||(o=null);var i=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");try{var u=n.map(function(t){var n=t instanceof Y?t.name:t;if("string"!=typeof n)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return n});if("r"==t||t==Gt)t=Gt;else{if("rw"!=t&&t!=Zt)throw new nn.InvalidArgument("Invalid transaction mode: "+t);t=Zt}if(o){if(o.mode===Gt&&t===Zt){if(!i)throw new nn.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&u.forEach(function(t){if(o&&o.storeNames.indexOf(t)===-1){if(!i)throw new nn.SubTransaction("Table "+t+" not included in parent transaction.");o=null}}),i&&o&&!o.active&&(o=null)}}catch(t){return o?o._promise(null,function(n,e){e(t)}):Fn(t)}return o?o._promise(t,r,"lock"):An.trans?yt(An.transless,function(){return tn._whenReady(r)}):tn._whenReady(r)},this.table=function(t){if(Zn&&on)return new Y(t);if(!r(zt,t))throw new nn.InvalidTable("Table "+t+" does not exist");return zt[t]},o(Y.prototype,{_trans:function(t,n,e){var r=this._tx||An.trans;return r&&r.db===tn?r===An.trans?r._promise(t,n,e):ut(function(){return r._promise(t,n,e)},{trans:r,transless:An.transless||An}):U(t,[this.name],n)},_idbstore:function(t,n,e){function r(t,e,r){if(r.storeNames.indexOf(o)===-1)throw new nn.NotFound("Table"+o+" not part of transaction");return n(t,e,r.idbtrans.objectStore(o),r)}if(Zn)return new K(n);var o=this.name;return this._trans(t,r,e)},get:function(t,n){if(t&&t.constructor===Object)return this.where(t).first(n);var e=this;return this._idbstore(Gt,function(n,r,o){Zn&&n(e.schema.instanceTemplate);var i=o.get(t);i.onerror=kt(r),i.onsuccess=it(function(){n(e.hook.reading.fire(i.result))},r)}).then(n)},where:function(t){if("string"==typeof t)return new W(this,t);if(Rt(t))return new W(this,"["+t.join("+")+"]");var n=Ct(t);if(1===n.length)return this.where(n[0]).equals(t[n[0]]);var e=this.schema.indexes.concat(this.schema.primKey).filter(function(t){return t.compound&&n.every(function(n){return t.keyPath.indexOf(n)>=0})&&t.keyPath.every(function(t){return n.indexOf(t)>=0})})[0];if(e&&Yn!==Kn)return this.where(e.name).equals(e.keyPath.map(function(n){return t[n]}));e||console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var r=this.schema.idxByName,o=n.reduce(function(n,e){return[n[0]||r[e],n[0]||!r[e]?ht(n[1],function(n){return""+v(n,e)==""+t[e]}):n[1]]},[null,null]),i=o[0];return i?this.where(i.name).equals(t[i.keyPath]).filter(o[1]):e?this.filter(o[1]):this.where(n).equals("")},count:function(t){return this.toCollection().count(t)},offset:function(t){return this.toCollection().offset(t)},limit:function(t){return this.toCollection().limit(t)},reverse:function(){return this.toCollection().reverse()},filter:function(t){return this.toCollection().and(t)},each:function(t){return this.toCollection().each(t)},toArray:function(t){return this.toCollection().toArray(t)},orderBy:function(t){return new H(new W(this,Rt(t)?"["+t.join("+")+"]":t))},toCollection:function(){return new H(new W(this))},mapToClass:function(t,n){this.schema.mappedClass=t;var e=Object.create(t.prototype);n&&xt(e,n),this.schema.instanceTemplate=e;var o=function(n){if(!n)return n;var e=Object.create(t.prototype);for(var o in n)if(r(n,o))try{e[o]=n[o]}catch(t){}return e};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),t},defineClass:function(t){return this.mapToClass(_t.defineClass(t),t)},bulkDelete:function(t){return this.hook.deleting.fire===C?this._idbstore(Zt,function(n,e,r,o){n(q(r,o,t,!1,C))}):this.where(":id").anyOf(t).delete().then(function(){})},bulkPut:function(t,n){var e=this;return this._idbstore(Zt,function(r,o,i){if(!i.keyPath&&!e.schema.primKey.auto&&!n)throw new nn.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&n)throw new nn.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new nn.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var u,a,c=function(t){0===s.length?r(t):o(new I(e.name+".bulkPut(): "+s.length+" of "+f+" operations failed",s))},s=[],f=t.length,l=e;if(e.hook.creating.fire===C&&e.hook.updating.fire===C){a=z(s);for(var h=0,y=t.length;h<y;++h)u=n?i.put(t[h],n[h]):i.put(t[h]),u.onerror=a;u.onerror=z(s,c),u.onsuccess=jt(c)}else{var d=n||i.keyPath&&t.map(function(t){return v(t,i.keyPath)}),g=d&&p(d,function(n,e){return null!=n&&[n,t[e]]}),m=d?l.where(":id").anyOf(d.filter(function(t){return null!=t})).modify(function(){this.value=g[this.primKey],g[this.primKey]=null}).catch(T,function(t){s=t.failures}).then(function(){for(var e=[],r=n&&[],o=d.length-1;o>=0;--o){var i=d[o];(null==i||g[i])&&(e.push(t[o]),n&&r.push(i),null!=i&&(g[i]=null))}return e.reverse(),n&&r.reverse(),l.bulkAdd(e,r)}).then(function(t){var n=d[d.length-1];return null!=n?n:t}):l.bulkAdd(t);m.then(c).catch(I,function(t){s=s.concat(t.failures),c()}).catch(o)}},"locked")},bulkAdd:function(t,n){var e=this,r=this.hook.creating.fire;return this._idbstore(Zt,function(o,i,u,a){function c(t){0===h.length?o(t):i(new I(e.name+".bulkAdd(): "+h.length+" of "+p+" operations failed",h))}if(!u.keyPath&&!e.schema.primKey.auto&&!n)throw new nn.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(u.keyPath&&n)throw new nn.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new nn.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return o();var s,f,l,h=[],p=t.length;if(r!==C){var y,m=u.keyPath;f=z(h,null,!0),l=Ot(null),d(function(){for(var e=0,o=t.length;e<o;++e){y={onerror:null,onsuccess:null};var i=n&&n[e],c=t[e],h=n?i:m?v(c,m):void 0,p=r.call(y,h,c,a);null==h&&null!=p&&(m?(c=w(c),g(c,m,p)):i=p),s=null!=i?u.add(c,i):u.add(c),s._hookCtx=y,e<o-1&&(s.onerror=f,y.onsuccess&&(s.onsuccess=l))}},function(t){throw y.onerror&&y.onerror(t),t}),s.onerror=z(h,c,!0),s.onsuccess=Ot(c)}else{f=z(h);for(var b=0,_=t.length;b<_;++b)s=n?u.add(t[b],n[b]):u.add(t[b]),s.onerror=f;s.onerror=z(h,c),s.onsuccess=jt(c)}})},add:function(t,n){var e=this.hook.creating.fire;return this._idbstore(Zt,function(r,o,i,u){var a={onsuccess:null,onerror:null};if(e!==C){var c=null!=n?n:i.keyPath?v(t,i.keyPath):void 0,s=e.call(a,c,t,u);null==c&&null!=s&&(i.keyPath?g(t,i.keyPath,s):n=s)}try{var f=null!=n?i.add(t,n):i.add(t);f._hookCtx=a,f.onerror=Et(o),f.onsuccess=Ot(function(n){var e=i.keyPath;e&&g(t,e,n),r(n)})}catch(t){throw a.onerror&&a.onerror(t),t}})},put:function(t,n){var e=this,r=this.hook.creating.fire,o=this.hook.updating.fire;if(r!==C||o!==C){var i=this.schema.primKey.keyPath,u=void 0!==n?n:i&&v(t,i);return null==u?this.add(t):(t=w(t),this._trans(Zt,function(){return e.where(":id").equals(u).modify(function(){this.value=t}).then(function(r){return 0===r?e.add(t,n):u})},"locked"))}return this._idbstore(Zt,function(e,r,o){var i=void 0!==n?o.put(t,n):o.put(t);i.onerror=kt(r),i.onsuccess=it(function(n){var r=o.keyPath;r&&g(t,r,n.target.result),e(i.result)})})},delete:function(t){return this.hook.deleting.subscribers.length?this.where(":id").equals(t).delete():this._idbstore(Zt,function(n,e,r){var o=r.delete(t);o.onerror=kt(e),o.onsuccess=it(function(){n(o.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(Zt,function(t,n,e){var r=e.clear();r.onerror=kt(n),r.onsuccess=it(function(){t(r.result)})})},update:function(t,n){if("object"!=typeof n||Rt(n))throw new nn.InvalidArgument("Modifications must be an object.");if("object"!=typeof t||Rt(t))return this.where(":id").equals(t).modify(n);Ct(n).forEach(function(e){g(t,e,n[e])});var e=v(t,this.schema.primKey.keyPath);return void 0===e?Fn(new nn.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(n)}}),o(V.prototype,{_lock:function(){return l(!An.global),++this._reculock,1!==this._reculock||An.global||(An.lockOwnerFor=this),this},_unlock:function(){if(l(!An.global),0===--this._reculock)for(An.global||(An.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{yt(t[1],t[0])}catch(t){}}return this},_locked:function(){return this._reculock&&An.lockOwnerFor!==this},create:function(t){var n=this;if(!this.mode)return this;if(l(!this.idbtrans),!t&&!Wt)switch(Ht&&Ht.name){case"DatabaseClosedError":throw new nn.DatabaseClosed(Ht);case"MissingAPIError":throw new nn.MissingAPI(Ht.message,Ht);default:throw new nn.OpenFailed(Ht)}if(!this.active)throw new nn.TransactionInactive;return l(null===this._completion._state),t=this.idbtrans=t||Wt.transaction(It(this.storeNames),this.mode),t.onerror=it(function(e){At(e),n._reject(t.error)}),t.onabort=it(function(t){At(t),n.active&&n._reject(new nn.Abort),n.active=!1,n.on("abort").fire(t)}),t.oncomplete=it(function(){n.active=!1,n._resolve()}),this},_promise:function(t,n,e){var r=this;if(t===Zt&&this.mode!==Zt)return Fn(new nn.ReadOnly("Transaction is readonly"));if(!this.active)return Fn(new nn.TransactionInactive);if(this._locked())return new K(function(o,i){r._blockedFuncs.push([function(){r._promise(t,n,e).then(o,i)},An])});if(e)return ut(function(){var t=new K(function(t,e){r._lock();var o=n(t,e,r);o&&o.then&&o.then(t,e)});return t.finally(function(){return r._unlock()}),t._lib=!0,t});var o=new K(function(t,e){var o=n(t,e,r);o&&o.then&&o.then(t,e)});return o._lib=!0,o},_root:function(){return this.parent?this.parent._root():this},waitFor:function(t){var n=this._root();if(t=K.resolve(t),n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return t});else{n._waitingFor=t,n._waitingQueue=[];var e=n.idbtrans.objectStore(n.storeNames[0]);!function t(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(e.get(-(1/0)).onsuccess=t)}()}var r=n._waitingFor;return new K(function(e,o){t.then(function(t){return n._waitingQueue.push(it(e.bind(null,t)))},function(t){return n._waitingQueue.push(it(o.bind(null,t)))}).finally(function(){n._waitingFor===r&&(n._waitingFor=null)})})},abort:function(){this.active&&this._reject(new nn.Abort),this.active=!1},tables:{get:A("Transaction.tables",function(){return zt})},table:function(t){var n=tn.table(t);return new Y(t,n.schema,this)}}),o(W.prototype,function(){function t(t,n,e){var r=t instanceof W?new H(t):t;return r._ctx.error=e?new e(n):new TypeError(n),r}function n(t){return new H(t,function(){return Ft.only("")}).limit(0)}function e(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function r(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function o(t,n,e,r,o,i){for(var u=Math.min(t.length,r.length),a=-1,c=0;c<u;++c){var s=n[c];if(s!==r[c])return o(t[c],e[c])<0?t.substr(0,c)+e[c]+e.substr(c+1):o(t[c],r[c])<0?t.substr(0,c)+r[c]+e.substr(c+1):a>=0?t.substr(0,a)+n[a]+e.substr(a+1):null;o(t[c],s)<0&&(a=c)}return u<r.length&&"next"===i?t+e.substr(t.length):u<t.length&&"prev"===i?t.substr(0,e.length):a<0?null:t.substr(0,a)+r[a]+e.substr(a+1)}function i(n,i,u,a){function c(t){s=e(t),f=r(t),l="next"===t?ft:lt;var n=u.map(function(t){return{lower:f(t),upper:s(t)}}).sort(function(t,n){return l(t.lower,n.lower)});h=n.map(function(t){return t.upper}),p=n.map(function(t){return t.lower}),y=t,d="next"===t?"":a}var s,f,l,h,p,y,d,v=u.length;if(!u.every(function(t){return"string"==typeof t}))return t(n,Vn);c("next");var g=new H(n,function(){return Ft.bound(h[0],p[v-1]+a)});g._ondirectionchange=function(t){c(t)};var m=0;return g._addAlgorithm(function(t,n,e){var r=t.key;if("string"!=typeof r)return!1;var u=f(r);if(i(u,p,m))return!0;for(var a=null,c=m;c<v;++c){var s=o(r,u,h[c],p[c],l,y);null===s&&null===a?m=c+1:(null===a||l(a,s)>0)&&(a=s)}return n(null!==a?function(){t.continue(a+d)}:e),!1}),g}return{between:function(e,r,o,i){o=o!==!1,i=i===!0;try{return nt(e,r)>0||0===nt(e,r)&&(o||i)&&(!o||!i)?n(this):new H(this,function(){return Ft.bound(e,r,!o,!i)})}catch(n){return t(this,qn)}},equals:function(t){return new H(this,function(){return Ft.only(t)})},above:function(t){return new H(this,function(){return Ft.lowerBound(t,!0)})},aboveOrEqual:function(t){return new H(this,function(){return Ft.lowerBound(t)})},below:function(t){return new H(this,function(){return Ft.upperBound(t,!0)})},belowOrEqual:function(t){return new H(this,function(){return Ft.upperBound(t)})},startsWith:function(n){return"string"!=typeof n?t(this,Vn):this.between(n,n+Kn,!0,!0)},startsWithIgnoreCase:function(t){return""===t?this.startsWith(t):i(this,function(t,n){return 0===t.indexOf(n[0])},[t],Kn)},equalsIgnoreCase:function(t){return i(this,function(t,n){return t===n[0]},[t],"")},anyOfIgnoreCase:function(){var t=O.apply(qt,arguments);return 0===t.length?n(this):i(this,function(t,n){return n.indexOf(t)!==-1},t,"")},startsWithAnyOfIgnoreCase:function(){var t=O.apply(qt,arguments);return 0===t.length?n(this):i(this,function(t,n){return n.some(function(n){return 0===t.indexOf(n)})},t,Kn)},anyOf:function(){var e=O.apply(qt,arguments),r=ot;try{e.sort(r)}catch(n){return t(this,qn)}if(0===e.length)return n(this);var o=new H(this,function(){return Ft.bound(e[0],e[e.length-1])});o._ondirectionchange=function(t){r="next"===t?ot:st,e.sort(r)};var i=0;return o._addAlgorithm(function(t,n,o){for(var u=t.key;r(u,e[i])>0;)if(++i,i===e.length)return n(o),!1;return 0===r(u,e[i])||(n(function(){t.continue(e[i])}),!1)}),o},notEqual:function(t){return this.inAnyRange([[zn,t],[t,Yn]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var n=O.apply(qt,arguments);if(0===n.length)return new H(this);try{n.sort(ot)}catch(n){return t(this,qn)}var e=n.reduce(function(t,n){return t?t.concat([[t[t.length-1][1],n]]):[[zn,n]]},null);return e.push([n[n.length-1],Yn]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(e,r){function o(t,n){for(var e=0,r=t.length;e<r;++e){var o=t[e];if(nt(n[0],o[1])<0&&nt(n[1],o[0])>0){o[0]=et(o[0],n[0]),o[1]=rt(o[1],n[1]);break}}return e===r&&t.push(n),t}function i(t,n){return f(t[0],n[0])}function u(t){return!h(t)&&!p(t)}if(0===e.length)return n(this);if(!e.every(function(t){return void 0!==t[0]&&void 0!==t[1]&&ot(t[0],t[1])<=0}))return t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",nn.InvalidArgument);var a,c=!r||r.includeLowers!==!1,s=r&&r.includeUppers===!0,f=ot;try{a=e.reduce(o,[]),a.sort(i)}catch(n){return t(this,qn)}var l=0,h=s?function(t){return ot(t,a[l][1])>0}:function(t){return ot(t,a[l][1])>=0},p=c?function(t){return st(t,a[l][0])>0}:function(t){return st(t,a[l][0])>=0},y=h,d=new H(this,function(){return Ft.bound(a[0][0],a[a.length-1][1],!c,!s)});return d._ondirectionchange=function(t){"next"===t?(y=h,f=ot):(y=p,f=st),a.sort(i)},d._addAlgorithm(function(t,n,e){for(var r=t.key;y(r);)if(++l,l===a.length)return n(e),!1;return!!u(r)||0!==nt(r,a[l][1])&&0!==nt(r,a[l][0])&&(n(function(){f===ot?t.continue(a[l][0]):t.continue(a[l][1])}),!1)}),d},startsWithAnyOf:function(){var e=O.apply(qt,arguments);return e.every(function(t){return"string"==typeof t})?0===e.length?n(this):this.inAnyRange(e.map(function(t){return[t,t+Kn]})):t(this,"startsWithAnyOf() only works with strings")}}}),o(H.prototype,function(){function n(t,n){t.filter=ht(t.filter,n)}function e(t,n,e){var r=t.replayFilter;t.replayFilter=r?function(){return ht(r(),n())}:n,t.justLimit=e&&!r}function o(t,n){t.isMatch=ht(t.isMatch,n)}function i(t,n){if(t.isPrimKey)return n;var e=t.table.schema.idxByName[t.index];if(!e)throw new nn.Schema("KeyPath "+t.index+" on object store "+n.name+" is not indexed");return n.index(e.name)}function u(t,n){var e=i(t,n);return t.keysOnly&&"openKeyCursor"in e?e.openKeyCursor(t.range||null,t.dir+t.unique):e.openCursor(t.range||null,t.dir+t.unique)}function a(t,n,e,o,i){var a=t.replayFilter?ht(t.filter,t.replayFilter()):t.filter;t.or?function(){function c(){2===++l&&e()}function s(t,e,i){if(!a||a(e,i,c,o)){var u=e.primaryKey.toString();r(f,u)||(f[u]=!0,n(t,e,i))}}var f={},l=0;t.or._iterate(s,c,o,i),Z(u(t,i),t.algorithm,s,c,o,!t.keysOnly&&t.valueMapper)}():Z(u(t,i),ht(t.algorithm,a),n,e,o,!t.keysOnly&&t.valueMapper)}function c(t){return t.table.schema.instanceTemplate}return{_read:function(t,n){var e=this._ctx;return e.error?e.table._trans(null,Fn.bind(null,e.error)):e.table._idbstore(Gt,t).then(n)},_write:function(t){var n=this._ctx;return n.error?n.table._trans(null,Fn.bind(null,n.error)):n.table._idbstore(Zt,t,"locked")},_addAlgorithm:function(t){var n=this._ctx;n.algorithm=ht(n.algorithm,t)},_iterate:function(t,n,e,r){return a(this._ctx,t,n,e,r)},clone:function(n){var e=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return n&&t(r,n),e._ctx=r,e},raw:function(){return this._ctx.valueMapper=null,this},each:function(t){var n=this._ctx;if(Zn){var e=c(n),r=n.table.schema.primKey.keyPath,o=v(e,n.index?n.table.schema.idxByName[n.index].keyPath:r),i=v(e,r);t(e,{key:o,primaryKey:i})}return this._read(function(e,r,o){a(n,t,e,r,o)})},count:function(t){if(Zn)return K.resolve(0).then(t);var n=this._ctx;if(Q(n,!0))return this._read(function(t,e,r){var o=i(n,r),u=n.range?o.count(n.range):o.count();u.onerror=kt(e),u.onsuccess=function(e){t(Math.min(e.target.result,n.limit))}},t);var e=0;return this._read(function(t,r,o){a(n,function(){return++e,!1},function(){t(e)},r,o)},t)},sortBy:function(t,n){function e(t,n){return n?e(t[o[n]],n-1):t[i]}function r(t,n){var r=e(t,u),o=e(n,u);return r<o?-a:r>o?a:0}var o=t.split(".").reverse(),i=o[0],u=o.length-1,a="next"===this._ctx.dir?1:-1;return this.toArray(function(t){return t.sort(r)}).then(n)},toArray:function(t){var n=this._ctx;return this._read(function(t,e,r){if(Zn&&t([c(n)]),wt&&"next"===n.dir&&Q(n,!0)&&n.limit>0){var o=n.table.hook.reading.fire,u=i(n,r),s=n.limit<1/0?u.getAll(n.range,n.limit):u.getAll(n.range);s.onerror=kt(e),s.onsuccess=jt(o===R?t:function(n){try{t(n.map(o))}catch(t){e(t)}})}else{var f=[];a(n,function(t){f.push(t)},function(){t(f)},e,r)}},t)},offset:function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,Q(n)?e(n,function(){var n=t;return function(t,e){return 0===n||(1===n?(--n,!1):(e(function(){t.advance(n),n=0}),!1))}}):e(n,function(){var n=t;return function(){return--n<0}}),this)},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),e(this._ctx,function(){var n=t;return function(t,e,r){return--n<=0&&e(r),n>=0}},!0),this},until:function(t,e){var r=this._ctx;return Zn&&t(c(r)),n(this._ctx,function(n,r,o){return!t(n.value)||(r(o),e)}),this},first:function(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)},last:function(t){return this.reverse().first(t)},filter:function(t){return Zn&&t(c(this._ctx)),n(this._ctx,function(n){return t(n.value)}),o(this._ctx,t),this},and:function(t){return this.filter(t)},or:function(t){return new W(this._ctx.table,t,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(n,e){t(e.key,e)})},eachUniqueKey:function(t){return this._ctx.unique="unique",this.eachKey(t)},eachPrimaryKey:function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,
this.each(function(n,e){t(e.primaryKey,e)})},keys:function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var e=[];return this.each(function(t,n){e.push(n.key)}).then(function(){return e}).then(t)},primaryKeys:function(t){var n=this._ctx;if(wt&&"next"===n.dir&&Q(n,!0)&&n.limit>0)return this._read(function(t,e,r){var o=i(n,r),u=n.limit<1/0?o.getAllKeys(n.range,n.limit):o.getAllKeys(n.range);u.onerror=kt(e),u.onsuccess=jt(t)}).then(t);n.keysOnly=!n.isMatch;var e=[];return this.each(function(t,n){e.push(n.primaryKey)}).then(function(){return e}).then(t)},uniqueKeys:function(t){return this._ctx.unique="unique",this.keys(t)},firstKey:function(t){return this.limit(1).keys(function(t){return t[0]}).then(t)},lastKey:function(t){return this.reverse().firstKey(t)},distinct:function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var o={};return n(this._ctx,function(t){var n=t.primaryKey.toString(),e=r(o,n);return o[n]=!0,!e}),this},modify:function(n){var e=this,o=this._ctx,i=o.table.hook,u=i.updating.fire,a=i.deleting.fire;return Zn&&"function"==typeof n&&n.call({value:o.table.schema.instanceTemplate},o.table.schema.instanceTemplate),this._write(function(o,i,c,s){function f(t,n){function e(t){return E.push(t),A.push(o.primKey),h(),!0}S=n.primaryKey;var o={primKey:n.primaryKey,value:t,onsuccess:null,onerror:null};if(p.call(o,t,o)!==!1){var i=!r(o,"value");++O,d(function(){var t=i?n.delete():n.update(o.value);t._hookCtx=o,t.onerror=Et(e),t.onsuccess=Ot(function(){++k,h()})},e)}else o.onsuccess&&o.onsuccess(o.value)}function l(t){return t&&(E.push(t),A.push(S)),i(new T("Error modifying one or more objects",E,k,A))}function h(){j&&k+E.length===O&&(E.length>0?l():o(k))}var p;if("function"==typeof n)p=u===C&&a===C?n:function(t){var e=w(t);if(n.call(this,t,this)===!1)return!1;if(r(this,"value")){var o=x(e,this.value),i=u.call(this,o,this.primKey,e,s);i&&(t=this.value,Ct(i).forEach(function(n){g(t,n,i[n])}))}else a.call(this,this.primKey,t,s)};else if(u===C){var y=Ct(n),m=y.length;p=function(t){for(var e=!1,r=0;r<m;++r){var o=y[r],i=n[o];v(t,o)!==i&&(g(t,o,i),e=!0)}return e}}else{var _=n;n=b(_),p=function(e){var r=!1,o=u.call(this,n,this.primKey,w(e),s);return o&&t(n,o),Ct(n).forEach(function(t){var o=n[t];v(e,t)!==o&&(g(e,t,o),r=!0)}),o&&(n=b(_)),r}}var O=0,k=0,j=!1,E=[],A=[],S=null;e.clone().raw()._iterate(f,function(){j=!0,h()},l,c)})},delete:function(){var t=this,n=this._ctx,e=n.range,r=n.table.hook.deleting.fire,o=r!==C;if(!o&&Q(n)&&(n.isPrimKey&&!Jn||!e))return this._write(function(t,n,r){var o=kt(n),i=e?r.count(e):r.count();i.onerror=o,i.onsuccess=function(){var u=i.result;d(function(){var n=e?r.delete(e):r.clear();n.onerror=o,n.onsuccess=function(){return t(u)}},function(t){return n(t)})}});var i=o?2e3:1e4;return this._write(function(e,u,a,c){var s=0,f=t.clone({keysOnly:!n.isMatch&&!o}).distinct().limit(i).raw(),l=[],h=function(){return f.each(o?function(t,n){l.push([n.primaryKey,n.value])}:function(t,n){l.push(n.primaryKey)}).then(function(){return o?l.sort(function(t,n){return ot(t[0],n[0])}):l.sort(ot),q(a,c,l,o,r)}).then(function(){var t=l.length;return s+=t,l=[],t<i?s:h()})};e(h())})}}}),t(this,{Collection:H,Table:Y,Transaction:V,Version:a,WhereClause:W}),u(),Mt.forEach(function(t){t(tn)})}function wt(t){if("function"==typeof t)return new t;if(Rt(t))return[wt(t[0])];if(t&&"object"==typeof t){var n={};return xt(n,t),n}return t}function xt(t,n){return Ct(n).forEach(function(e){var r=wt(n[e]);t[e]=r}),t}function Ot(t){return it(function(n){var e=n.target,r=e.result,o=e._hookCtx,i=o&&o.onsuccess;i&&i(r),t&&t(r)},t)}function kt(t){return it(function(n){return At(n),t(n.target.error),!1})}function jt(t){return it(function(n){t(n.target.result)})}function Et(t){return it(function(n){var e=n.target,r=e.error,o=e._hookCtx,i=o&&o.onerror;return i&&i(r),At(n),t(r),!1})}function At(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function St(t){function n(t){return function(n){var e=t(n),r=e.value;return e.done?r:r&&"function"==typeof r.then?r.then(o,i):Rt(r)?K.all(r).then(o,i):o(r)}}var e=function(n){return t.next(n)},r=function(n){return t.throw(n)},o=n(e),i=n(r);return n(e)()}function Pt(t,n,e,r,o,i,u){this.name=t,this.keyPath=n,this.unique=e,this.multi=r,this.auto=o,this.compound=i,this.dotted=u;var a="string"==typeof n?n:n&&"["+[].join.call(n,"+")+"]";this.src=(e?"&":"")+(r?"*":"")+(o?"++":"")+a}function Tt(t,n,e,r){this.name=t,this.primKey=n||new Pt,this.indexes=e||[new Pt],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=p(e,function(t){return[t.name,t]})}function It(t){return 1===t.length?t[0]:t}function Bt(t){var n=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return n&&n.bind(t)}var Ct=Object.keys,Rt=Array.isArray,Dt="undefined"!=typeof self?self:"undefined"!=typeof window?window:n,Ut=Object.getPrototypeOf,Mt={}.hasOwnProperty,Lt=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,Ft=[].slice,$t=[].concat,Kt="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(_([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(n){return n+t+"Array"})}))).filter(function(t){return Dt[t]}).map(function(t){return Dt[t]}),Yt="undefined"!=typeof Symbol&&Symbol.iterator,zt=Yt?function(t){var n;return null!=t&&(n=t[Yt])&&n.apply(t)}:function(){return null},qt={},Vt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Wt=function(){return!0},Ht=!new Error("").stack,Qt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Jt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Xt=Qt.concat(Jt),Gt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};u(S).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+E(this._e,2))}},toString:function(){return this.name+": "+this.message}}),u(T).from(S),u(I).from(S);var Zt=Xt.reduce(function(t,n){return t[n]=n+"Error",t},{}),tn=S,nn=Xt.reduce(function(t,n){function e(t,e){this._e=j(),this.name=r,t?"string"==typeof t?(this.message=t,this.inner=e||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=Gt[n]||r,this.inner=null)}var r=n+"Error";return u(e).from(tn),t[n]=e,t},{});nn.Syntax=SyntaxError,nn.Type=TypeError,nn.Range=RangeError;var en=Jt.reduce(function(t,n){return t[n+"Error"]=nn[n],t},{}),rn=Xt.reduce(function(t,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(t[n+"Error"]=nn[n]),t},{});rn.ModifyError=T,rn.DexieError=S,rn.BulkError=I;var on={},un=100,an=20,cn=7,sn=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(n){var t=Dt.Promise;return t?[t.resolve(),t.prototype,t.resolve()]:[]}}(),fn=sn[0],ln=sn[1],hn=sn[2],pn=ln&&ln.then,yn=fn&&fn.constructor,dn=sn[3],vn=!!hn,gn=!1,mn=hn?function(){hn.then(X)}:Dt.setImmediate?e.bind(null,X):Dt.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){X(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(X,0)},bn=function(t,n){Sn.push([t,n]),wn&&(mn(),wn=!1)},_n=!0,wn=!0,xn=[],On=[],kn=null,jn=R,En={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:mt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{mt(t[0],t[1])}catch(t){}})}},An=En,Sn=[],Pn=0,Tn=[],In={get:function(){function t(t,r){var o=this,i=!n.global&&(n!==An||e!==Un);i&&ct();var u=new K(function(e,u){W(o,new Y(vt(t,n,i),vt(r,n,i),e,u,n))});return Vt&&J(u,this),u}var n=An,e=Un;return t.prototype=on,t},set:function(t){i(this,"then",t&&t.prototype===on?In:{get:function(){return t},set:In.set})}};o(K.prototype,{then:In,_then:function(t,n){W(this,new Y(null,null,t,n,An))},catch:function(t){if(1===arguments.length)return this.then(null,t);var n=arguments[0],e=arguments[1];return"function"==typeof n?this.then(null,function(t){return t instanceof n?e(t):ot(t)}):this.then(null,function(t){return t&&t.name===n?e(t):ot(t)})},finally:function(t){return this.then(function(n){return t(),n},function(n){return t(),ot(n)})},stack:{get:function(){if(this._stack)return this._stack;try{gn=!0;var t=Q(this,[],an),n=t.join("\nFrom previous: ");return null!==this._state&&(this._stack=n),n}finally{gn=!1}}},timeout:function(t,n){var e=this;return t<1/0?new K(function(r,o){var i=setTimeout(function(){return o(new nn.Timeout(n))},t);e.then(r,o).finally(clearTimeout.bind(null,i))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&i(K.prototype,Symbol.toStringTag,"Promise"),En.env=pt(),o(K,{all:function(){var t=O.apply(null,arguments).map(st);return new K(function(n,e){0===t.length&&n([]);var r=t.length;t.forEach(function(o,i){return K.resolve(o).then(function(e){t[i]=e,--r||n(t)},e)})})},resolve:function(t){if(t instanceof K)return t;if(t&&"function"==typeof t.then)return new K(function(n,e){t.then(n,e)});var n=new K(on,!0,t);return J(n,kn),n},reject:ot,race:function(){var t=O.apply(null,arguments).map(st);return new K(function(n,e){t.map(function(t){return K.resolve(t).then(n,e)})})},PSD:{get:function(){return An},set:function(t){return An=t}},newPSD:ut,usePSD:yt,scheduler:{get:function(){return bn},set:function(t){bn=t}},rejectionMapper:{get:function(){return jn},set:function(t){jn=t}},follow:function(t,n){return new K(function(e,r){return ut(function(n,e){var r=An;r.unhandleds=[],r.onunhandled=e,r.finalize=U(function(){var t=this;nt(function(){0===t.unhandleds.length?n():e(t.unhandleds[0])})},r.finalize),t()},n,e,r)})}});var Bn={awaits:0,echoes:0,id:0},Cn=0,Rn=[],Dn=0,Un=0,Mn=0,Ln="unhandledrejection";f(function(){bn=function(t,n){setTimeout(function(){t.apply(null,n)},0)}});var Nn,Fn=K.reject,$n="2.0.0-beta.7",Kn=String.fromCharCode(65535),Yn=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return Kn}}(),zn=-(1/0),qn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Vn="String expected.",Wn=[],Hn="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Qn=Hn,Jn=Hn,Xn=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};k(Vt,Xn);var Gn=function(){},Zn=!1,te=Dt.idbModules&&Dt.idbModules.shimIndexedDB?Dt.idbModules:{};return o(_t,rn),o(_t,{delete:function(t){var n=new _t(t),e=n.delete();return e.onblocked=function(t){return n.on("blocked",t),this},e},exists:function(t){return new _t(t).open().then(function(t){return t.close(),!0}).catch(_t.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(t){var n=Bt(_t.dependencies.indexedDB);return n?new K(function(t,e){var r=n();r.onsuccess=function(n){t(c(n.target.result,0))},r.onerror=kt(e)}).then(t):Nn.dbnames.toCollection().primaryKeys(t)},defineClass:function(n){function e(e){e?t(this,e):Zn&&xt(this,n)}return e},applyStructure:xt,ignoreTransaction:function(t){return An.trans?yt(An.transless,t):t()},vip:function(t){return ut(function(){return An.letThrough=!0,t()})},async:function(t){return function(){try{var n=St(t.apply(this,arguments));return n&&"function"==typeof n.then?n:K.resolve(n)}catch(t){return Fn(t)}}},spawn:function(t,n,e){try{var r=St(t.apply(e,n||[]));return r&&"function"==typeof r.then?r:K.resolve(r)}catch(t){return Fn(t)}},currentTransaction:{get:function(){return An.trans||null}},waitFor:function(t,n){var e=K.resolve("function"==typeof t?_t.ignoreTransaction(t):t).timeout(n||6e4);return An.trans?An.trans.waitFor(e):e},Promise:K,debug:{get:function(){return Vt},set:function(t){k(t,"dexie"===t?function(){return!0}:Xn)}},derive:u,extend:t,props:o,override:s,Events:bt,getByKeyPath:v,setByKeyPath:g,delByKeyPath:m,shallowClone:b,deepClone:w,getObjectDiff:x,asap:h,maxKey:Yn,minKey:zn,addons:[],connections:Wn,MultiModifyError:nn.Modify,errnames:Zt,IndexSpec:Pt,TableSchema:Tt,dependencies:{indexedDB:te.shimIndexedDB||Dt.indexedDB||Dt.mozIndexedDB||Dt.webkitIndexedDB||Dt.msIndexedDB,IDBKeyRange:te.IDBKeyRange||Dt.IDBKeyRange||Dt.webkitIDBKeyRange},semVer:$n,version:$n.split(".").map(function(t){return parseInt(t)}).reduce(function(t,n,e){return t+n/Math.pow(10,2*e)}),fakeAutoComplete:Gn,default:_t,Dexie:_t}),K.rejectionMapper=B,f(function(){_t.fakeAutoComplete=Gn=f,_t.fake=Zn=!0}),Nn=new _t("__dbnames"),Nn.version(1).stores({dbnames:"name"}),function(){var t="Dexie.DatabaseNames";if(void 0!==typeof localStorage&&void 0!==Dt.document)try{JSON.parse(localStorage.getItem(t)||"[]").forEach(function(t){return Nn.dbnames.put({name:t}).catch(C)}),localStorage.removeItem(t)}catch(t){}}(),_t})}).call(n,function(){return this}(),e(14).setImmediate)},function(t,n){"use strict";t.exports=function(){var t,n,e=Array.from;return"function"==typeof e&&(t=["raz","dwa"],n=e(t),Boolean(n&&n!==t&&"dwa"===n[1]))}},function(t,n,e){"use strict";var r=e(68).iterator,o=e(50),i=e(51),u=e(3),a=e(2),c=e(6),s=e(67),f=Array.isArray,l=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(t){var n,e,y,d,v,g,m,b,_,w,x=arguments[1],O=arguments[2];if(t=Object(c(t)),null!=x&&a(x),this&&this!==Array&&i(this))n=this;else{if(!x){if(o(t))return v=t.length,1!==v?Array.apply(null,t):(d=new Array(1),d[0]=t[0],d);if(f(t)){for(d=new Array(v=t.length),e=0;e<v;++e)d[e]=t[e];return d}}d=[]}if(!f(t))if(void 0!==(_=t[r])){for(m=a(_).call(t),n&&(d=new n),b=m.next(),e=0;!b.done;)w=x?l.call(x,O,b.value,e):b.value,n?(h.value=w,p(d,e,h)):d[e]=w,b=m.next(),++e;v=e}else if(s(t)){for(v=t.length,n&&(d=new n),e=0,y=0;e<v;++e)w=t[e],e+1<v&&(g=w.charCodeAt(0),g>=55296&&g<=56319&&(w+=t[++e])),w=x?l.call(x,O,w,y):w,n?(h.value=w,p(d,y,h)):d[y]=w,++y;v=y}if(void 0===v)for(v=u(t.length),n&&(d=new n(v)),e=0;e<v;++e)w=x?l.call(x,O,t[e],e):t[e],n?(h.value=w,p(d,e,h)):d[e]=w;return n&&(h.value=null,d.length=v),d}},function(t,n,e){"use strict";var r=e(11),o=Array.isArray;t.exports=function(t){return o(t)?t:r(t)}},function(t,n,e){"use strict";var r=e(24),o=Error.captureStackTrace;n=t.exports=function(t){var e=new Error(t),i=arguments[1],u=arguments[2];return null==u&&i&&"object"==typeof i&&(u=i,i=null),null!=u&&r(e,u),null!=i&&(e.code=String(i)),o&&o(e,n),e}},function(t,n){"use strict";var e=Object.prototype.toString,r=e.call(function(){return arguments}());t.exports=function(t){return e.call(t)===r}},function(t,n,e){"use strict";var r=Object.prototype.toString,o=r.call(e(52));t.exports=function(t){return"function"==typeof t&&r.call(t)===o}},function(t,n){"use strict";t.exports=function(){}},function(t,n,e){"use strict";t.exports=e(54)()?Math.sign:e(55)},function(t,n){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&t(-20)===-1)}},function(t,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,n,e){"use strict";var r=e(53),o=Math.abs,i=Math.floor;t.exports=function(t){return isNaN(t)?0:(t=Number(t),0!==t&&isFinite(t)?r(t)*i(o(t)):t)}},function(t,n,e){"use strict";var r=e(2),o=e(6),i=Function.prototype.bind,u=Function.prototype.call,a=Object.keys,c=Object.prototype.propertyIsEnumerable;t.exports=function(t,n){return function(e,s){var f,l=arguments[2],h=arguments[3];return e=Object(o(e)),r(s),f=a(e),h&&f.sort("function"==typeof h?i.call(h,e):void 0),"function"!=typeof t&&(t=f[t]),u.call(t,f,function(t,r){return c.call(e,t)?u.call(s,l,e[t],t,e,r):n})}}},function(t,n){"use strict";t.exports=function(){var t,n=Object.assign;return"function"==typeof n&&(t={foo:"raz"},n(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,n,e){"use strict";var r=e(61),o=e(6),i=Math.max;t.exports=function(t,n){var e,u,a,c=i(arguments.length,2);for(t=Object(o(t)),a=function(r){try{t[r]=n[r]}catch(t){e||(e=t)}},u=1;u<c;++u)n=arguments[u],r(n).forEach(a);if(void 0!==e)throw e;return t}},function(t,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,n,e){"use strict";t.exports=e(62)()?Object.keys:e(63)},function(t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,n){"use strict";var e=Object.keys;t.exports=function(t){return e(null==t?t:Object(t))}},function(t,n,e){"use strict";t.exports=e(65)()?String.prototype.contains:e(66)},function(t,n){"use strict";var e="razdwatrzy";t.exports=function(){return"function"==typeof e.contains&&(e.contains("dwa")===!0&&e.contains("foo")===!1)}},function(t,n){"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},function(t,n){"use strict";var e=Object.prototype.toString,r=e.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||e.call(t)===r)||!1}},function(t,n,e){"use strict";t.exports=e(69)()?Symbol:e(71)},function(t,n){"use strict";var e={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!e[typeof Symbol.iterator]&&(!!e[typeof Symbol.toPrimitive]&&!!e[typeof Symbol.toStringTag])}},function(t,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,n,e){"use strict";var r,o,i,u,a=e(7),c=e(72),s=Object.create,f=Object.defineProperties,l=Object.defineProperty,h=Object.prototype,p=s(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),u=!0}catch(t){}}var y=function(){var t=s(null);return function(n){for(var e,r,o=0;t[n+(o||"")];)++o;return n+=o||"",t[n]=!0,e="@@"+n,l(h,e,a.gs(null,function(t){r||(r=!0,l(this,e,a(t)),r=!1)})),e}}();i=function(t){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return o(t)},t.exports=o=function t(n){var e;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return u?r(n):(e=s(i.prototype),n=void 0===n?"":String(n),f(e,{__description__:a("",n),__name__:a("",y(n))}))},f(o,{for:a(function(t){return p[t]?p[t]:p[t]=o(String(t))}),keyFor:a(function(t){var n;c(t);for(n in p)if(p[n]===t)return n}),hasInstance:a("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:a("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:a("",r&&r.iterator||o("iterator")),match:a("",r&&r.match||o("match")),replace:a("",r&&r.replace||o("replace")),search:a("",r&&r.search||o("search")),species:a("",r&&r.species||o("species")),split:a("",r&&r.split||o("split")),toPrimitive:a("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:a("",r&&r.toStringTag||o("toStringTag")),unscopables:a("",r&&r.unscopables||o("unscopables"))}),f(i.prototype,{constructor:a(o),toString:a("",function(){return this.__name__})}),f(o.prototype,{toString:a(function(){return"Symbol ("+c(this).__description__+")"}),valueOf:a(function(){return c(this)})}),l(o.prototype,o.toPrimitive,a("",function(){var t=c(this);return"symbol"==typeof t?t:t.toString()})),l(o.prototype,o.toStringTag,a("c","Symbol")),l(i.prototype,o.toStringTag,a("c",o.prototype[o.toStringTag])),l(i.prototype,o.toPrimitive,a("c",o.prototype[o.toPrimitive]))},function(t,n,e){"use strict";var r=e(70);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,n,e){"use strict";var r,o,i,u,a,c,s,f=e(7),l=e(2),h=Function.prototype.apply,p=Function.prototype.call,y=Object.create,d=Object.defineProperty,v=Object.defineProperties,g=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};r=function(t,n){var e;return l(n),g.call(this,"__ee__")?e=this.__ee__:(e=m.value=y(null),d(this,"__ee__",m),m.value=null),e[t]?"object"==typeof e[t]?e[t].push(n):e[t]=[e[t],n]:e[t]=n,this},o=function(t,n){var e,o;return l(n),o=this,r.call(this,t,e=function(){i.call(o,t,e),h.call(n,this,arguments)}),e.__eeOnceListener__=n,this},i=function(t,n){var e,r,o,i;if(l(n),!g.call(this,"__ee__"))return this;if(e=this.__ee__,!e[t])return this;if(r=e[t],"object"==typeof r)for(i=0;o=r[i];++i)o!==n&&o.__eeOnceListener__!==n||(2===r.length?e[t]=r[i?0:1]:r.splice(i,1));else r!==n&&r.__eeOnceListener__!==n||delete e[t];return this},u=function(t){var n,e,r,o,i;if(g.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(e=arguments.length,i=new Array(e-1),n=1;n<e;++n)i[n-1]=arguments[n];for(o=o.slice(),n=0;r=o[n];++n)h.call(r,this,i)}else switch(arguments.length){case 1:p.call(o,this);break;case 2:p.call(o,this,arguments[1]);break;case 3:p.call(o,this,arguments[1],arguments[2]);break;default:for(e=arguments.length,i=new Array(e-1),n=1;n<e;++n)i[n-1]=arguments[n];h.call(o,this,i)}},a={on:r,once:o,off:i,emit:u},c={on:f(r),once:f(o),off:f(i),emit:f(u)},s=v({},c),t.exports=n=function(t){return null==t?y(s):v(Object(t),c)},n.methods=a},function(t,n){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var n,e,o,a,c,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(n=arguments[1],n instanceof Error)throw n;var f=new Error('Uncaught, unspecified "error" event. ('+n+")");throw f.context=n,f}if(e=this._events[t],u(e))return!1;if(r(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),e.apply(this,a)}else if(i(e))for(a=Array.prototype.slice.call(arguments,1),s=e.slice(),o=s.length,c=0;c<o;c++)s[c].apply(this,a);return!0},e.prototype.addListener=function(t,n){var o;if(!r(n))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(n.listener)?n.listener:n),this._events[t]?i(this._events[t])?this._events[t].push(n):this._events[t]=[this._events[t],n]:this._events[t]=n,i(this._events[t])&&!this._events[t].warned&&(o=u(this._maxListeners)?e.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,n){function e(){this.removeListener(t,e),o||(o=!0,n.apply(this,arguments))}if(!r(n))throw TypeError("listener must be a function");var o=!1;return e.listener=n,this.on(t,e),this},e.prototype.removeListener=function(t,n){var e,o,u,a;if(!r(n))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(e=this._events[t],u=e.length,o=-1,e===n||r(e.listener)&&e.listener===n)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,n);else if(i(e)){for(a=u;a-- >0;)if(e[a]===n||e[a].listener&&e[a].listener===n){o=a;break}if(o<0)return this;1===e.length?(e.length=0,delete this._events[t]):e.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,n)}return this},e.prototype.removeAllListeners=function(t){var n,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events={},this}if(e=this._events[t],r(e))this.removeListener(t,e);else if(e)for(;e.length;)this.removeListener(t,e[e.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){var n;return n=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.prototype.listenerCount=function(t){if(this._events){var n=this._events[t];if(r(n))return 1;if(n)return n.length}return 0},e.listenerCount=function(t,n){return t.listenerCount(n)}},function(t,n,e){(function(n){t.exports=n.Dexie=e(45)}).call(n,function(){return this}())},function(t,n){n.read=function(t,n,e,r,o){var i,u,a=8*o-r-1,c=(1<<a)-1,s=c>>1,f=-7,l=e?o-1:0,h=e?-1:1,p=t[n+l];for(l+=h,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=256*i+t[n+l],l+=h,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=r;f>0;u=256*u+t[n+l],l+=h,f-=8);if(0===i)i=1-s;else{if(i===c)return u?NaN:(p?-1:1)*(1/0);u+=Math.pow(2,r),i-=s}return(p?-1:1)*u*Math.pow(2,i-r)},n.write=function(t,n,e,r,o,i){var u,a,c,s=8*i-o-1,f=(1<<s)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,y=r?1:-1,d=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,u=f):(u=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-u))<1&&(u--,c*=2),n+=u+l>=1?h/c:h*Math.pow(2,1-l),n*c>=2&&(u++,c/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(n*c-1)*Math.pow(2,o),u+=l):(a=n*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;t[e+p]=255&a,p+=y,a/=256,o-=8);for(u=u<<o|a,s+=o;s>0;t[e+p]=255&u,p+=y,u/=256,s-=8);t[e+p-y]|=128*d}},function(t,n){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(t,n,e){"use strict";var r=e(3),o=Object.create,i=Object.prototype.hasOwnProperty;t.exports=function(t){var n,e=0,u=1,a=o(null),c=o(null),s=0;return t=r(t),{hit:function(r){var o=c[r],f=++s;if(a[f]=r,c[r]=f,!o){if(++e,e<=t)return;return r=a[u],n(r),r}if(delete a[o],u===o)for(;!i.call(a,++u);)continue},delete:n=function(t){var n=c[t];if(n&&(delete a[n],delete c[t],--e,u===n)){if(!e)return s=0,void(u=1);for(;!i.call(a,++u);)continue}},clear:function(){e=0,u=1,a=o(null),c=o(null),s=0}}}},function(t,n,e){"use strict";var r=e(11),o=e(25),i=e(26),u=e(23),a=e(12),c=Array.prototype.slice,s=Function.prototype.apply,f=Object.create,l=Object.prototype.hasOwnProperty;e(4).async=function(t,n){var e,h,p,y=f(null),d=f(null),v=n.memoized,g=n.original;n.memoized=u(function(t){var n=arguments,r=n[n.length-1];return"function"==typeof r&&(e=r,n=c.call(n,0,-1)),v.apply(h=this,p=n)},v);try{i(n.memoized,v)}catch(t){}n.on("get",function(t){var r,o,i;if(e){if(y[t])return"function"==typeof y[t]?y[t]=[y[t],e]:y[t].push(e),void(e=null);r=e,o=h,i=p,e=h=p=null,a(function(){var u;l.call(d,t)?(u=d[t],n.emit("getasync",t,i,o),s.call(r,u.context,u.args)):(e=r,h=o,p=i,v.apply(o,i))})}}),n.original=function(){var t,o,i,u;return e?(t=r(arguments),o=function t(e){var o,i,c=t.id;return null==c?void a(s.bind(t,this,arguments)):(delete t.id,o=y[c],delete y[c],o?(i=r(arguments),n.has(c)&&(e?n.delete(c):(d[c]={context:this,args:i},n.emit("setasync",c,"function"==typeof o?1:o.length))),"function"==typeof o?u=s.call(o,this,i):o.forEach(function(t){u=s.call(t,this,i)},this),u):void 0)},i=e,e=h=p=null,t.push(o),u=s.call(g,this,t),o.cb=i,e=o,u):s.call(g,this,arguments)},n.on("set",function(t){return e?(y[t]?"function"==typeof y[t]?y[t]=[y[t],e.cb]:y[t].push(e.cb):y[t]=e.cb,delete e.cb,e.id=t,void(e=null)):void n.delete(t)}),n.on("delete",function(t){var e;l.call(y,t)||d[t]&&(e=d[t],delete d[t],n.emit("deleteasync",t,c.call(e.args,1)))}),n.on("clear",function(){var t=d;d=f(null),n.emit("clearasync",o(t,function(t){return c.call(t.args,1)}))})}},function(t,n,e){"use strict";var r=e(2),o=e(8),i=e(4),u=Function.prototype.apply;i.dispose=function(t,n,e){var a;return r(t),e.async&&i.async||e.promise&&i.promise?(n.on("deleteasync",a=function(n,e){u.call(t,null,e)}),void n.on("clearasync",function(t){o(t,function(t,n){a(n,t)})})):(n.on("delete",a=function(n,e){t(e)}),void n.on("clear",function(t){o(t,function(t,n){a(n,t)})}))}},function(t,n,e){"use strict";var r=e(11),o=e(8),i=e(12),u=e(28),a=e(97),c=e(4),s=Function.prototype,f=Math.max,l=Math.min,h=Object.create;c.maxAge=function(t,n,e){var p,y,d,v;t=a(t),t&&(p=h(null),y=e.async&&c.async||e.promise&&c.promise?"async":"",n.on("set"+y,function(e){p[e]=setTimeout(function(){n.delete(e)},t),v&&(v[e]&&"nextTick"!==v[e]&&clearTimeout(v[e]),v[e]=setTimeout(function(){delete v[e]},d))}),n.on("delete"+y,function(t){clearTimeout(p[t]),delete p[t],v&&("nextTick"!==v[t]&&clearTimeout(v[t]),delete v[t])}),e.preFetch&&(d=e.preFetch===!0||isNaN(e.preFetch)?.333:f(l(Number(e.preFetch),1),0),d&&(v={},d=(1-d)*t,n.on("get"+y,function(t,o,a){v[t]||(v[t]="nextTick",i(function(){var i;"nextTick"===v[t]&&(delete v[t],n.delete(t),e.async&&(o=r(o),o.push(s)),i=n.memoized.apply(a,o),e.promise&&u(i)&&("function"==typeof i.done?i.done(s,s):i.then(s,s)))}))}))),n.on("clear"+y,function(){o(p,function(t){clearTimeout(t)}),p={},v&&(o(v,function(t){"nextTick"!==t&&clearTimeout(t)}),v={})}))}},function(t,n,e){"use strict";var r=e(3),o=e(78),i=e(4);i.max=function(t,n,e){var u,a,c;t=r(t),t&&(a=o(t),u=e.async&&i.async||e.promise&&i.promise?"async":"",n.on("set"+u,c=function(t){t=a.hit(t),void 0!==t&&n.delete(t)}),n.on("get"+u,c),n.on("delete"+u,a.delete),n.on("clear"+u,a.clear))}},function(t,n,e){"use strict";var r=e(25),o=e(28),i=e(12),u=Object.create,a=Object.prototype.hasOwnProperty;e(4).promise=function(t,n){var e=u(null),c=u(null),s=u(null);n.on("set",function(r,u,a){var f=!1;if(!o(a))return c[r]=a,void n.emit("setasync",r,1);e[r]=1,s[r]=a;var l=function(t){var o=e[r];if(f)throw new Error("Memoizee error: Promise resolved with both failure and success, this can be result of unordered done & finally resolution.\nInstead of `promise: true` consider configuring memoization via `promise: 'then'` or `promise: 'done'");o&&(delete e[r],c[r]=t,n.emit("setasync",r,o))},h=function(){f=!0,e[r]&&(delete e[r],delete s[r],n.delete(r))};"then"!==t&&"function"==typeof a.done?"done"!==t&&"function"==typeof a.finally?(a.done(l),a.finally(h)):a.done(l,h):a.then(function(t){i(l.bind(this,t))},function(){i(h)})}),n.on("get",function(t,r,u){var a;if(e[t])return void++e[t];a=s[t];var c=function(){n.emit("getasync",t,r,u)};o(a)?"function"==typeof a.done?a.done(c):a.then(function(){i(c)}):c()}),n.on("delete",function(t){if(delete s[t],e[t])return void delete e[t];if(a.call(c,t)){var r=c[t];delete c[t],n.emit("deleteasync",t,[r])}}),n.on("clear",function(){var t=c;c=u(null),e=u(null),s=u(null),n.emit("clearasync",r(t,function(t){return[t]}))})}},function(t,n,e){"use strict";var r=e(7),o=e(4),i=Object.create,u=Object.defineProperties;o.refCounter=function(t,n,e){var a,c;a=i(null),c=e.async&&o.async||e.promise&&o.promise?"async":"",n.on("set"+c,function(t,n){a[t]=n||1}),n.on("get"+c,function(t){++a[t]}),n.on("delete"+c,function(t){delete a[t]}),n.on("clear"+c,function(){a={}}),u(n.memoized,{deleteRef:r(function(){var t=n.get(arguments);return null===t?null:a[t]?!--a[t]&&(n.delete(t),!0):null}),getRefCount:r(function(){var t=n.get(arguments);return null===t?0:a[t]?a[t]:0})})}},function(t,n,e){"use strict";var r=e(49),o=e(23),i=e(7),u=e(73).methods,a=e(87),c=e(86),s=Function.prototype.apply,f=Function.prototype.call,l=Object.create,h=Object.prototype.hasOwnProperty,p=Object.defineProperties,y=u.on,d=u.emit;t.exports=function(t,n,e){var u,v,g,m,b,_,w,x,O,k,j,E,A,S,P,T=l(null);return v=n!==!1?n:isNaN(t.length)?1:t.length,e.normalizer&&(k=c(e.normalizer),g=k.get,m=k.set,b=k.delete,_=k.clear),null!=e.resolvers&&(P=a(e.resolvers)),S=g?o(function(n){var e,o,i=arguments;if(P&&(i=P(i)),e=g(i),null!==e&&h.call(T,e))return j&&u.emit("get",e,i,this),T[e];if(o=1===i.length?f.call(t,this,i[0]):s.call(t,this,i),null===e){if(e=g(i),null!==e)throw r("Circular invocation","CIRCULAR_INVOCATION");
e=m(i)}else if(h.call(T,e))throw r("Circular invocation","CIRCULAR_INVOCATION");return T[e]=o,E&&u.emit("set",e,null,o),o},v):0===n?function(){var n;if(h.call(T,"data"))return j&&u.emit("get","data",arguments,this),T.data;if(n=arguments.length?s.call(t,this,arguments):f.call(t,this),h.call(T,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return T.data=n,E&&u.emit("set","data",null,n),n}:function(n){var e,o,i=arguments;if(P&&(i=P(arguments)),o=String(i[0]),h.call(T,o))return j&&u.emit("get",o,i,this),T[o];if(e=1===i.length?f.call(t,this,i[0]):s.call(t,this,i),h.call(T,o))throw r("Circular invocation","CIRCULAR_INVOCATION");return T[o]=e,E&&u.emit("set",o,null,e),e},u={original:t,memoized:S,get:function(t){return P&&(t=P(t)),g?g(t):String(t[0])},has:function(t){return h.call(T,t)},delete:function(t){var n;h.call(T,t)&&(b&&b(t),n=T[t],delete T[t],A&&u.emit("delete",t,n))},clear:function(){var t=T;_&&_(),T=l(null),u.emit("clear",t)},on:function(t,n){return"get"===t?j=!0:"set"===t?E=!0:"delete"===t&&(A=!0),y.call(this,t,n)},emit:d,updateEnv:function(){t=u.original}},w=g?o(function(t){var n,e=arguments;P&&(e=P(e)),n=g(e),null!==n&&u.delete(n)},v):0===n?function(){return u.delete("data")}:function(t){return P&&(t=P(arguments)[0]),u.delete(t)},x=o(function(){var t,n=arguments;return P&&(n=P(n)),t=g(n),T[t]}),O=o(function(){var t,n=arguments;return P&&(n=P(n)),t=g(n),null!==t&&u.has(t)}),p(S,{__memoized__:i(!0),delete:i(w),clear:i(u.clear),_get:i(x),_has:i(O)}),u}},function(t,n,e){"use strict";var r=e(2);t.exports=function(t){var n;return"function"==typeof t?{set:t,get:t}:(n={get:r(t.get)},void 0!==t.set?(n.set=r(t.set),t.delete&&(n.delete=r(t.delete)),t.clear&&(n.clear=r(t.clear)),n):(n.set=n.get,n))}},function(t,n,e){"use strict";var r,o=e(48),i=e(2),u=Array.prototype.slice;r=function(t){return this.map(function(n,e){return n?n(t[e]):t[e]}).concat(u.call(t,this.length))},t.exports=function(t){return t=o(t),t.forEach(function(t){null!=t&&i(t)}),r.bind(t)}},function(t,n,e){"use strict";var r=e(10);t.exports=function(){var t=0,n=[],e=[];return{get:function(t){var o=r.call(n,t[0]);return o===-1?null:e[o]},set:function(r){return n.push(r[0]),e.push(++t),t},delete:function(t){var o=r.call(e,t);o!==-1&&(n.splice(o,1),e.splice(o,1))},clear:function(){n=[],e=[]}}}},function(t,n,e){"use strict";var r=e(10),o=Object.create;t.exports=function(t){var n=0,e=[[],[]],i=o(null);return{get:function(n){for(var o,i=0,u=e;i<t-1;){if(o=r.call(u[0],n[i]),o===-1)return null;u=u[1][o],++i}return o=r.call(u[0],n[i]),o===-1?null:u[1][o]||null},set:function(o){for(var u,a=0,c=e;a<t-1;)u=r.call(c[0],o[a]),u===-1&&(u=c[0].push(o[a])-1,c[1].push([[],[]])),c=c[1][u],++a;return u=r.call(c[0],o[a]),u===-1&&(u=c[0].push(o[a])-1),c[1][u]=++n,i[n]=o,n},delete:function(n){for(var o,u=0,a=e,c=[],s=i[n];u<t-1;){if(o=r.call(a[0],s[u]),o===-1)return;c.push(a,o),a=a[1][o],++u}if(o=r.call(a[0],s[u]),o!==-1){for(n=a[1][o],a[0].splice(o,1),a[1].splice(o,1);!a[0].length&&c.length;)o=c.pop(),a=c.pop(),a[0].splice(o,1),a[1].splice(o,1);delete i[n]}},clear:function(){e=[[],[]],i=o(null)}}}},function(t,n){"use strict";t.exports=function(t){return t?function(n){for(var e=String(n[0]),r=0,o=t;--o;)e+=""+n[++r];return e}:function(){return""}}},function(t,n,e){"use strict";var r=e(10),o=Object.create;t.exports=function(){var t=0,n=[],e=o(null);return{get:function(t){var e,o=0,i=n,u=t.length;if(0===u)return i[u]||null;if(i=i[u]){for(;o<u-1;){if(e=r.call(i[0],t[o]),e===-1)return null;i=i[1][e],++o}return e=r.call(i[0],t[o]),e===-1?null:i[1][e]||null}return null},set:function(o){var i,u=0,a=n,c=o.length;if(0===c)a[c]=++t;else{for(a[c]||(a[c]=[[],[]]),a=a[c];u<c-1;)i=r.call(a[0],o[u]),i===-1&&(i=a[0].push(o[u])-1,a[1].push([[],[]])),a=a[1][i],++u;i=r.call(a[0],o[u]),i===-1&&(i=a[0].push(o[u])-1),a[1][i]=++t}return e[t]=o,t},delete:function(t){var o,i=0,u=n,a=e[t],c=a.length,s=[];if(0===c)delete u[c];else if(u=u[c]){for(;i<c-1;){if(o=r.call(u[0],a[i]),o===-1)return;s.push(u,o),u=u[1][o],++i}if(o=r.call(u[0],a[i]),o===-1)return;for(t=u[1][o],u[0].splice(o,1),u[1].splice(o,1);!u[0].length&&s.length;)o=s.pop(),u=s.pop(),u[0].splice(o,1),u[1].splice(o,1)}delete e[t]},clear:function(){n=[],e=o(null)}}}},function(t,n){"use strict";t.exports=function(t){var n,e,r=t.length;if(!r)return"";for(n=String(t[e=0]);--r;)n+=""+t[++e];return n}},function(t,n,e){"use strict";var r=e(2),o=e(8),i=e(4),u=e(85),a=e(30),c=Object.prototype.hasOwnProperty;t.exports=function t(n){var e,s,f;if(r(n),e=Object(arguments[1]),e.async&&e.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return c.call(n,"__memoized__")&&!e.force?n:(s=a(e.length,n.length,e.async&&i.async),f=u(n,s,e),o(i,function(t,n){e[n]&&t(e[n],f,e)}),t.__profiler__&&t.__profiler__(f),f.updateEnv(),f.memoized)}},function(t,n,e){var r,r;!function(n){t.exports=n()}(function(){return function t(n,e,o){function i(a,c){if(!e[a]){if(!n[a]){var s="function"==typeof r&&r;if(!c&&s)return r(a,!0);if(u)return u(a,!0);throw new Error("Cannot find module '"+a+"'")}var f=e[a]={exports:{}};n[a][0].call(f.exports,function(t){var e=n[a][1][t];return i(e?e:t)},f,f.exports,t,n,e,o)}return e[a].exports}for(var u="function"==typeof r&&r,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,n,e){(function(r,o,i,u,a,c,s,f,l){"use strict";function h(t,n){return n=p(t,n),d(t,n)}function p(t,n){if(n=n||{},n.algorithm=n.algorithm||"sha1",n.encoding=n.encoding||"hex",n.excludeValues=!!n.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=n.ignoreUnknown===!0,n.respectType=n.respectType!==!1,n.respectFunctionNames=n.respectFunctionNames!==!1,n.respectFunctionProperties=n.respectFunctionProperties!==!1,n.unorderedArrays=n.unorderedArrays===!0,n.unorderedSets=n.unorderedSets!==!1,n.replacer=n.replacer||void 0,"undefined"==typeof t)throw new Error("Object argument required.");for(var e=0;e<b.length;++e)b[e].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=b[e]);if(b.indexOf(n.algorithm)===-1)throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+b.join(", "));if(_.indexOf(n.encoding)===-1&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+_.join(", "));return n}function y(t){if("function"!=typeof t)return!1;var n=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return null!=n.exec(Function.prototype.toString.call(t))}function d(t,n){var e;e="passthrough"!==n.algorithm?m.createHash(n.algorithm):new g,"undefined"==typeof e.write&&(e.write=e.update,e.end=e.update);var r=v(n,e);if(r.dispatch(t),e.update||e.end(""),e.digest)return e.digest("buffer"===n.encoding?void 0:n.encoding);var o=e.read();return"buffer"===n.encoding?o:o.toString(n.encoding)}function v(t,n,e){e=e||[];var r=function(t){return n.update?n.update(t,"utf8"):n.write(t,"utf8")};return{dispatch:function(n){t.replacer&&(n=t.replacer(n));var e=typeof n;return null===n&&(e="null"),this["_"+e](n)},_object:function(n){var o=/\[object (.*)\]/i,u=Object.prototype.toString.call(n),a=o.exec(u);a=a?a[1]:"unknown:["+u+"]",a=a.toLowerCase();var c=null;if((c=e.indexOf(n))>=0)return this.dispatch("[CIRCULAR:"+c+"]");if(e.push(n),"undefined"!=typeof i&&i.isBuffer&&i.isBuffer(n))return r("buffer:"),r(n);if("object"===a||"function"===a){var s=Object.keys(n).sort();t.respectType===!1||y(n)||s.splice(0,0,"prototype","__proto__","constructor"),r("object:"+s.length+":");var f=this;return s.forEach(function(e){f.dispatch(e),r(":"),t.excludeValues||f.dispatch(n[e]),r(",")})}if(!this["_"+a]){if(t.ignoreUnknown)return r("["+a+"]");throw new Error('Unknown object type "'+a+'"')}this["_"+a](n)},_array:function(n,o){o="undefined"!=typeof o?o:t.unorderedArrays!==!1;var i=this;if(r("array:"+n.length+":"),!o||n.length<=1)return n.forEach(function(t){return i.dispatch(t)});var u=[],a=n.map(function(n){var r=new g,o=e.slice(),i=v(t,r,o);return i.dispatch(n),u=u.concat(o.slice(e.length)),r.read().toString()});return e=e.concat(u),a.sort(),this._array(a,!1)},_date:function(t){return r("date:"+t.toJSON())},_symbol:function(t){return r("symbol:"+t.toString())},_error:function(t){return r("error:"+t.toString())},_boolean:function(t){return r("bool:"+t.toString())},_string:function(t){r("string:"+t.length+":"),r(t)},_function:function(n){r("fn:"),y(n)?this.dispatch("[native]"):this.dispatch(n.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(n.name)),t.respectFunctionProperties&&this._object(n)},_number:function(t){return r("number:"+t.toString())},_xml:function(t){return r("xml:"+t.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(t){return r("regex:"+t.toString())},_uint8array:function(t){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return r("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return r("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return r("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return r("url:"+t.toString(),"utf8")},_map:function(n){r("map:");var e=Array.from(n);return this._array(e,t.unorderedSets!==!1)},_set:function(n){r("set:");var e=Array.from(n);return this._array(e,t.unorderedSets!==!1)},_blob:function(){if(t.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function g(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}var m=t("crypto");e=n.exports=h,e.sha1=function(t){return h(t)},e.keys=function(t){return h(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},e.MD5=function(t){return h(t,{algorithm:"md5",encoding:"hex"})},e.keysMD5=function(t){return h(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var b=m.getHashes?m.getHashes().slice():["sha1","md5"];b.push("passthrough");var _=["buffer","hex","binary","base64"];e.writeToStream=function(t,n,e){return"undefined"==typeof e&&(e=n,n={}),n=p(t,n),v(n,e).dispatch(t)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_8c3adc78.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(t,n,e){(function(t,n,r,o,i,u,a,c,s){var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function n(t){var n=t.charCodeAt(0);return n===i||n===l?62:n===u||n===h?63:n<a?-1:n<a+10?n-a+26+26:n<s+26?n-s:n<c+26?n-c+26:void 0}function e(t){function e(t){s[l++]=t}var r,i,u,a,c,s;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;c="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,s=new o(3*t.length/4-c),u=c>0?t.length-4:t.length;var l=0;for(r=0,i=0;r<u;r+=4,i+=3)a=n(t.charAt(r))<<18|n(t.charAt(r+1))<<12|n(t.charAt(r+2))<<6|n(t.charAt(r+3)),e((16711680&a)>>16),e((65280&a)>>8),e(255&a);return 2===c?(a=n(t.charAt(r))<<2|n(t.charAt(r+1))>>4,e(255&a)):1===c&&(a=n(t.charAt(r))<<10|n(t.charAt(r+1))<<4|n(t.charAt(r+2))>>2,e(a>>8&255),e(255&a)),s}function r(t){function n(t){return f.charAt(t)}function e(t){return n(t>>18&63)+n(t>>12&63)+n(t>>6&63)+n(63&t)}var r,o,i,u=t.length%3,a="";for(r=0,i=t.length-u;r<i;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],a+=e(o);switch(u){case 1:o=t[t.length-1],a+=n(o>>2),a+=n(o<<4&63),a+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],a+=n(o>>10),a+=n(o>>4&63),a+=n(o<<2&63),a+="="}return a}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="+".charCodeAt(0),u="/".charCodeAt(0),a="0".charCodeAt(0),c="a".charCodeAt(0),s="A".charCodeAt(0),l="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=r}("undefined"==typeof e?this.base64js={}:e)}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(t,n,e){(function(n,r,o,i,u,a,c,s,f){function o(t,n,e){if(!(this instanceof o))return new o(t,n,e);var r=typeof t;if("base64"===n&&"string"===r)for(t=D(t);t.length%4!==0;)t+="=";var i;if("number"===r)i=M(t);else if("string"===r)i=o.byteLength(t,n);else{if("object"!==r)throw new Error("First argument needs to be a number, array or string.");i=M(t.length)}var u;o._useTypedArrays?u=o._augment(new Uint8Array(i)):(u=this,u.length=i,u._isBuffer=!0);var a;if(o._useTypedArrays&&"number"==typeof t.byteLength)u._set(t);else if(N(t))for(a=0;a<i;a++)o.isBuffer(t)?u[a]=t.readUInt8(a):u[a]=t[a];else if("string"===r)u.write(t,0,n);else if("number"===r&&!o._useTypedArrays&&!e)for(a=0;a<i;a++)u[a]=0;return u}function l(t,n,e,r){e=Number(e)||0;var i=t.length-e;r?(r=Number(r),r>i&&(r=i)):r=i;var u=n.length;J(u%2===0,"Invalid hex string"),r>u/2&&(r=u/2);for(var a=0;a<r;a++){var c=parseInt(n.substr(2*a,2),16);J(!isNaN(c),"Invalid hex string"),t[e+a]=c}return o._charsWritten=2*a,a}function h(t,n,e,r){var i=o._charsWritten=q($(n),t,e,r);return i}function p(t,n,e,r){var i=o._charsWritten=q(K(n),t,e,r);return i}function y(t,n,e,r){return p(t,n,e,r)}function d(t,n,e,r){var i=o._charsWritten=q(z(n),t,e,r);return i}function v(t,n,e,r){var i=o._charsWritten=q(Y(n),t,e,r);return i}function g(t,n,e){return 0===n&&e===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(n,e))}function m(t,n,e){var r="",o="";e=Math.min(t.length,e);for(var i=n;i<e;i++)t[i]<=127?(r+=V(o)+String.fromCharCode(t[i]),o=""):o+="%"+t[i].toString(16);return r+V(o)}function b(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;o++)r+=String.fromCharCode(t[o]);return r}function _(t,n,e){return b(t,n,e)}function w(t,n,e){var r=t.length;(!n||n<0)&&(n=0),(!e||e<0||e>r)&&(e=r);for(var o="",i=n;i<e;i++)o+=F(t[i]);return o}function x(t,n,e){for(var r=t.slice(n,e),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function O(t,n,e,r){r||(J("boolean"==typeof e,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(n>=o)){var i;return e?(i=t[n],n+1<o&&(i|=t[n+1]<<8)):(i=t[n]<<8,n+1<o&&(i|=t[n+1])),i}}function k(t,n,e,r){r||(J("boolean"==typeof e,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(n>=o)){var i;return e?(n+2<o&&(i=t[n+2]<<16),n+1<o&&(i|=t[n+1]<<8),i|=t[n],n+3<o&&(i+=t[n+3]<<24>>>0)):(n+1<o&&(i=t[n+1]<<16),n+2<o&&(i|=t[n+2]<<8),n+3<o&&(i|=t[n+3]),i+=t[n]<<24>>>0),i}}function j(t,n,e,r){r||(J("boolean"==typeof e,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(n>=o)){var i=O(t,n,e,!0),u=32768&i;return u?(65535-i+1)*-1:i}}function E(t,n,e,r){r||(J("boolean"==typeof e,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(n>=o)){var i=k(t,n,e,!0),u=2147483648&i;return u?(4294967295-i+1)*-1:i}}function A(t,n,e,r){return r||(J("boolean"==typeof e,"missing or invalid endian"),J(n+3<t.length,"Trying to read beyond buffer length")),G.read(t,n,e,23,4)}function S(t,n,e,r){return r||(J("boolean"==typeof e,"missing or invalid endian"),J(n+7<t.length,"Trying to read beyond buffer length")),G.read(t,n,e,52,8)}function P(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+1<t.length,"trying to write beyond buffer length"),W(n,65535));var i=t.length;if(!(e>=i))for(var u=0,a=Math.min(i-e,2);u<a;u++)t[e+u]=(n&255<<8*(r?u:1-u))>>>8*(r?u:1-u)}function T(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+3<t.length,"trying to write beyond buffer length"),W(n,4294967295));var i=t.length;if(!(e>=i))for(var u=0,a=Math.min(i-e,4);u<a;u++)t[e+u]=n>>>8*(r?u:3-u)&255}function I(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+1<t.length,"Trying to write beyond buffer length"),H(n,32767,-32768));var i=t.length;e>=i||(n>=0?P(t,n,e,r,o):P(t,65535+n+1,e,r,o))}function B(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+3<t.length,"Trying to write beyond buffer length"),H(n,2147483647,-2147483648));var i=t.length;e>=i||(n>=0?T(t,n,e,r,o):T(t,4294967295+n+1,e,r,o))}function C(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+3<t.length,"Trying to write beyond buffer length"),Q(n,3.4028234663852886e38,-3.4028234663852886e38));var i=t.length;e>=i||G.write(t,n,e,r,23,4)}function R(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+7<t.length,"Trying to write beyond buffer length"),Q(n,1.7976931348623157e308,-1.7976931348623157e308));var i=t.length;e>=i||G.write(t,n,e,r,52,8)}function D(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t,n,e){return"number"!=typeof t?e:(t=~~t,t>=n?n:t>=0?t:(t+=n,t>=0?t:0))}function M(t){return t=~~Math.ceil(+t),t<0?0:t}function L(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function N(t){return L(t)||o.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t){for(var n=[],e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<=127)n.push(t.charCodeAt(e));else{var o=e;r>=55296&&r<=57343&&e++;for(var i=encodeURIComponent(t.slice(o,e+1)).substr(1).split("%"),u=0;u<i.length;u++)n.push(parseInt(i[u],16))}}return n}function K(t){for(var n=[],e=0;e<t.length;e++)n.push(255&t.charCodeAt(e));return n}function Y(t){for(var n,e,r,o=[],i=0;i<t.length;i++)n=t.charCodeAt(i),e=n>>8,r=n%256,o.push(r),o.push(e);return o}function z(t){return X.toByteArray(t)}function q(t,n,e,r){for(var o=0;o<r&&!(o+e>=n.length||o>=t.length);o++)n[o+e]=t[o];return o}function V(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}function W(t,n){J("number"==typeof t,"cannot write a non-number as a number"),J(t>=0,"specified a negative value for writing an unsigned value"),J(t<=n,"value is larger than maximum value for type"),J(Math.floor(t)===t,"value has a fractional component")}function H(t,n,e){J("number"==typeof t,"cannot write a non-number as a number"),J(t<=n,"value larger than maximum allowed value"),J(t>=e,"value smaller than minimum allowed value"),J(Math.floor(t)===t,"value has a fractional component")}function Q(t,n,e){J("number"==typeof t,"cannot write a non-number as a number"),J(t<=n,"value larger than maximum allowed value"),J(t>=e,"value smaller than minimum allowed value")}function J(t,n){if(!t)throw new Error(n||"Failed assertion")}var X=t("base64-js"),G=t("ieee754");e.Buffer=o,e.SlowBuffer=o,e.INSPECT_MAX_BYTES=50,o.poolSize=8192,o._useTypedArrays=function(){try{var t=new ArrayBuffer(0),n=new Uint8Array(t);return n.foo=function(){return 42},42===n.foo()&&"function"==typeof n.subarray}catch(t){return!1}}(),o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.isBuffer=function(t){return!(null===t||void 0===t||!t._isBuffer)},o.byteLength=function(t,n){var e;switch(t+="",n||"utf8"){case"hex":e=t.length/2;break;case"utf8":case"utf-8":e=$(t).length;break;case"ascii":case"binary":case"raw":e=t.length;break;case"base64":e=z(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=2*t.length;break;default:throw new Error("Unknown encoding")}return e},o.concat=function(t,n){if(J(L(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new o(0);if(1===t.length)return t[0];var e;if("number"!=typeof n)for(n=0,e=0;e<t.length;e++)n+=t[e].length;var r=new o(n),i=0;for(e=0;e<t.length;e++){var u=t[e];u.copy(r,i),i+=u.length}return r},o.prototype.write=function(t,n,e,r){if(isFinite(n))isFinite(e)||(r=e,e=void 0);else{var o=r;r=n,n=e,e=o}n=Number(n)||0;var i=this.length-n;e?(e=Number(e),e>i&&(e=i)):e=i,r=String(r||"utf8").toLowerCase();var u;switch(r){case"hex":u=l(this,t,n,e);break;case"utf8":case"utf-8":u=h(this,t,n,e);break;case"ascii":u=p(this,t,n,e);break;case"binary":u=y(this,t,n,e);break;case"base64":u=d(this,t,n,e);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":u=v(this,t,n,e);break;default:throw new Error("Unknown encoding")}return u},o.prototype.toString=function(t,n,e){var r=this;if(t=String(t||"utf8").toLowerCase(),n=Number(n)||0,e=void 0!==e?Number(e):e=r.length,e===n)return"";var o;switch(t){case"hex":o=w(r,n,e);break;case"utf8":case"utf-8":o=m(r,n,e);break;case"ascii":o=b(r,n,e);break;case"binary":o=_(r,n,e);break;case"base64":o=g(r,n,e);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=x(r,n,e);break;default:throw new Error("Unknown encoding")}return o},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.copy=function(t,n,e,r){var i=this;if(e||(e=0),r||0===r||(r=this.length),n||(n=0),r!==e&&0!==t.length&&0!==i.length){J(r>=e,"sourceEnd < sourceStart"),J(n>=0&&n<t.length,"targetStart out of bounds"),J(e>=0&&e<i.length,"sourceStart out of bounds"),J(r>=0&&r<=i.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),t.length-n<r-e&&(r=t.length-n+e);var u=r-e;if(u<100||!o._useTypedArrays)for(var a=0;a<u;a++)t[a+n]=this[a+e];else t._set(this.subarray(e,e+u),n)}},o.prototype.slice=function(t,n){var e=this.length;if(t=U(t,e,0),n=U(n,e,e),o._useTypedArrays)return o._augment(this.subarray(t,n));for(var r=n-t,i=new o(r,void 0,!0),u=0;u<r;u++)i[u]=this[u+t];return i},o.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},o.prototype.set=function(t,n){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,n)},o.prototype.readUInt8=function(t,n){if(n||(J(void 0!==t&&null!==t,"missing offset"),J(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return this[t]},o.prototype.readUInt16LE=function(t,n){return O(this,t,!0,n)},o.prototype.readUInt16BE=function(t,n){return O(this,t,!1,n)},o.prototype.readUInt32LE=function(t,n){return k(this,t,!0,n)},o.prototype.readUInt32BE=function(t,n){return k(this,t,!1,n)},o.prototype.readInt8=function(t,n){if(n||(J(void 0!==t&&null!==t,"missing offset"),J(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var e=128&this[t];return e?(255-this[t]+1)*-1:this[t]}},o.prototype.readInt16LE=function(t,n){return j(this,t,!0,n)},o.prototype.readInt16BE=function(t,n){return j(this,t,!1,n)},o.prototype.readInt32LE=function(t,n){return E(this,t,!0,n)},o.prototype.readInt32BE=function(t,n){return E(this,t,!1,n)},o.prototype.readFloatLE=function(t,n){return A(this,t,!0,n)},o.prototype.readFloatBE=function(t,n){return A(this,t,!1,n)},o.prototype.readDoubleLE=function(t,n){return S(this,t,!0,n)},o.prototype.readDoubleBE=function(t,n){return S(this,t,!1,n)},o.prototype.writeUInt8=function(t,n,e){e||(J(void 0!==t&&null!==t,"missing value"),J(void 0!==n&&null!==n,"missing offset"),J(n<this.length,"trying to write beyond buffer length"),W(t,255)),n>=this.length||(this[n]=t)},o.prototype.writeUInt16LE=function(t,n,e){P(this,t,n,!0,e)},o.prototype.writeUInt16BE=function(t,n,e){P(this,t,n,!1,e)},o.prototype.writeUInt32LE=function(t,n,e){T(this,t,n,!0,e)},o.prototype.writeUInt32BE=function(t,n,e){T(this,t,n,!1,e)},o.prototype.writeInt8=function(t,n,e){e||(J(void 0!==t&&null!==t,"missing value"),J(void 0!==n&&null!==n,"missing offset"),J(n<this.length,"Trying to write beyond buffer length"),H(t,127,-128)),n>=this.length||(t>=0?this.writeUInt8(t,n,e):this.writeUInt8(255+t+1,n,e))},o.prototype.writeInt16LE=function(t,n,e){I(this,t,n,!0,e)},o.prototype.writeInt16BE=function(t,n,e){I(this,t,n,!1,e)},o.prototype.writeInt32LE=function(t,n,e){B(this,t,n,!0,e)},o.prototype.writeInt32BE=function(t,n,e){B(this,t,n,!1,e)},o.prototype.writeFloatLE=function(t,n,e){C(this,t,n,!0,e)},o.prototype.writeFloatBE=function(t,n,e){C(this,t,n,!1,e)},o.prototype.writeDoubleLE=function(t,n,e){R(this,t,n,!0,e)},o.prototype.writeDoubleBE=function(t,n,e){R(this,t,n,!1,e)},o.prototype.fill=function(t,n,e){if(t||(t=0),n||(n=0),e||(e=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),J("number"==typeof t&&!isNaN(t),"value is not a number"),J(e>=n,"end < start"),e!==n&&0!==this.length){J(n>=0&&n<this.length,"start out of bounds"),J(e>=0&&e<=this.length,"end out of bounds");for(var r=n;r<e;r++)this[r]=t}},o.prototype.inspect=function(){for(var t=[],n=this.length,r=0;r<n;r++)if(t[r]=F(this[r]),r===e.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o._useTypedArrays)return new o(this).buffer;for(var t=new Uint8Array(this.length),n=0,e=t.length;n<e;n+=1)t[n]=this[n];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var Z=o.prototype;o._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=Z.get,t.set=Z.set,t.write=Z.write,t.toString=Z.toString,t.toLocaleString=Z.toString,t.toJSON=Z.toJSON,t.copy=Z.copy,t.slice=Z.slice,t.readUInt8=Z.readUInt8,t.readUInt16LE=Z.readUInt16LE,t.readUInt16BE=Z.readUInt16BE,t.readUInt32LE=Z.readUInt32LE,t.readUInt32BE=Z.readUInt32BE,t.readInt8=Z.readInt8,t.readInt16LE=Z.readInt16LE,t.readInt16BE=Z.readInt16BE,t.readInt32LE=Z.readInt32LE,t.readInt32BE=Z.readInt32BE,t.readFloatLE=Z.readFloatLE,t.readFloatBE=Z.readFloatBE,t.readDoubleLE=Z.readDoubleLE,t.readDoubleBE=Z.readDoubleBE,t.writeUInt8=Z.writeUInt8,t.writeUInt16LE=Z.writeUInt16LE,t.writeUInt16BE=Z.writeUInt16BE,t.writeUInt32LE=Z.writeUInt32LE,t.writeUInt32BE=Z.writeUInt32BE,t.writeInt8=Z.writeInt8,t.writeInt16LE=Z.writeInt16LE,t.writeInt16BE=Z.writeInt16BE,t.writeInt32LE=Z.writeInt32LE,t.writeInt32BE=Z.writeInt32BE,t.writeFloatLE=Z.writeFloatLE,t.writeFloatBE=Z.writeFloatBE,t.writeDoubleLE=Z.writeDoubleLE,t.writeDoubleBE=Z.writeDoubleBE,t.fill=Z.fill,t.inspect=Z.inspect,t.toArrayBuffer=Z.toArrayBuffer,t}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(t,n,e){(function(e,r,o,i,u,a,c,s,f){function l(t,n){if(t.length%y!==0){var e=t.length+(y-t.length%y);t=o.concat([t,d],e)}for(var r=[],i=n?t.readInt32BE:t.readInt32LE,u=0;u<t.length;u+=y)r.push(i.call(t,u));return r}function h(t,n,e){for(var r=new o(n),i=e?r.writeInt32BE:r.writeInt32LE,u=0;u<t.length;u++)i.call(r,t[u],4*u,!0);return r}function p(t,n,e,r){o.isBuffer(t)||(t=new o(t));var i=n(l(t,r),t.length*v);return h(i,e,r)}var o=t("buffer").Buffer,y=4,d=new o(y);d.fill(0);var v=8;n.exports={hash:p}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(t,n,e){(function(n,r,o,i,u,a,c,s,f){function l(t,n,e){o.isBuffer(n)||(n=new o(n)),o.isBuffer(e)||(e=new o(e)),n.length>_?n=t(n):n.length<_&&(n=o.concat([n,w],_));for(var r=new o(_),i=new o(_),u=0;u<_;u++)r[u]=54^n[u],i[u]=92^n[u];var a=t(o.concat([r,e]));return t(o.concat([i,a]))}function h(t,n){t=t||"sha1";var e=b[t],r=[],i=0;return e||p("algorithm:",t,"is not yet supported"),{update:function(t){return o.isBuffer(t)||(t=new o(t)),r.push(t),i+=t.length,this},digest:function(t){var i=o.concat(r),u=n?l(e,n,i):e(i);return r=null,t?u.toString(t):u}}}function p(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function y(t,n){for(var e in t)n(t[e],e)}var o=t("buffer").Buffer,d=t("./sha"),v=t("./sha256"),g=t("./rng"),m=t("./md5"),b={sha1:d,sha256:v,md5:m},_=64,w=new o(_);w.fill(0),e.createHash=function(t){return h(t)},e.createHmac=function(t,n){return h(t,n)},e.randomBytes=function(t,n){if(!n||!n.call)return new o(g(t));try{n.call(this,void 0,new o(g(t)))}catch(t){n(t)}},y(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(t){e[t]=function(){p("sorry,",t,"is not implemented yet")}})}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(t,n,e){(function(e,r,o,i,u,a,c,s,f){function l(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;for(var e=1732584193,r=-271733879,o=-1732584194,i=271733878,u=0;u<t.length;u+=16){var a=e,c=r,s=o,f=i;e=p(e,r,o,i,t[u+0],7,-680876936),i=p(i,e,r,o,t[u+1],12,-389564586),o=p(o,i,e,r,t[u+2],17,606105819),r=p(r,o,i,e,t[u+3],22,-1044525330),e=p(e,r,o,i,t[u+4],7,-176418897),i=p(i,e,r,o,t[u+5],12,1200080426),o=p(o,i,e,r,t[u+6],17,-1473231341),r=p(r,o,i,e,t[u+7],22,-45705983),e=p(e,r,o,i,t[u+8],7,1770035416),i=p(i,e,r,o,t[u+9],12,-1958414417),o=p(o,i,e,r,t[u+10],17,-42063),r=p(r,o,i,e,t[u+11],22,-1990404162),e=p(e,r,o,i,t[u+12],7,1804603682),i=p(i,e,r,o,t[u+13],12,-40341101),o=p(o,i,e,r,t[u+14],17,-1502002290),r=p(r,o,i,e,t[u+15],22,1236535329),e=y(e,r,o,i,t[u+1],5,-165796510),i=y(i,e,r,o,t[u+6],9,-1069501632),o=y(o,i,e,r,t[u+11],14,643717713),r=y(r,o,i,e,t[u+0],20,-373897302),e=y(e,r,o,i,t[u+5],5,-701558691),i=y(i,e,r,o,t[u+10],9,38016083),o=y(o,i,e,r,t[u+15],14,-660478335),
r=y(r,o,i,e,t[u+4],20,-405537848),e=y(e,r,o,i,t[u+9],5,568446438),i=y(i,e,r,o,t[u+14],9,-1019803690),o=y(o,i,e,r,t[u+3],14,-187363961),r=y(r,o,i,e,t[u+8],20,1163531501),e=y(e,r,o,i,t[u+13],5,-1444681467),i=y(i,e,r,o,t[u+2],9,-51403784),o=y(o,i,e,r,t[u+7],14,1735328473),r=y(r,o,i,e,t[u+12],20,-1926607734),e=d(e,r,o,i,t[u+5],4,-378558),i=d(i,e,r,o,t[u+8],11,-2022574463),o=d(o,i,e,r,t[u+11],16,1839030562),r=d(r,o,i,e,t[u+14],23,-35309556),e=d(e,r,o,i,t[u+1],4,-1530992060),i=d(i,e,r,o,t[u+4],11,1272893353),o=d(o,i,e,r,t[u+7],16,-155497632),r=d(r,o,i,e,t[u+10],23,-1094730640),e=d(e,r,o,i,t[u+13],4,681279174),i=d(i,e,r,o,t[u+0],11,-358537222),o=d(o,i,e,r,t[u+3],16,-722521979),r=d(r,o,i,e,t[u+6],23,76029189),e=d(e,r,o,i,t[u+9],4,-640364487),i=d(i,e,r,o,t[u+12],11,-421815835),o=d(o,i,e,r,t[u+15],16,530742520),r=d(r,o,i,e,t[u+2],23,-995338651),e=v(e,r,o,i,t[u+0],6,-198630844),i=v(i,e,r,o,t[u+7],10,1126891415),o=v(o,i,e,r,t[u+14],15,-1416354905),r=v(r,o,i,e,t[u+5],21,-57434055),e=v(e,r,o,i,t[u+12],6,1700485571),i=v(i,e,r,o,t[u+3],10,-1894986606),o=v(o,i,e,r,t[u+10],15,-1051523),r=v(r,o,i,e,t[u+1],21,-2054922799),e=v(e,r,o,i,t[u+8],6,1873313359),i=v(i,e,r,o,t[u+15],10,-30611744),o=v(o,i,e,r,t[u+6],15,-1560198380),r=v(r,o,i,e,t[u+13],21,1309151649),e=v(e,r,o,i,t[u+4],6,-145523070),i=v(i,e,r,o,t[u+11],10,-1120210379),o=v(o,i,e,r,t[u+2],15,718787259),r=v(r,o,i,e,t[u+9],21,-343485551),e=g(e,a),r=g(r,c),o=g(o,s),i=g(i,f)}return Array(e,r,o,i)}function h(t,n,e,r,o,i){return g(m(g(g(n,t),g(r,i)),o),e)}function p(t,n,e,r,o,i,u){return h(n&e|~n&r,t,n,o,i,u)}function y(t,n,e,r,o,i,u){return h(n&r|e&~r,t,n,o,i,u)}function d(t,n,e,r,o,i,u){return h(n^e^r,t,n,o,i,u)}function v(t,n,e,r,o,i,u){return h(e^(n|~r),t,n,o,i,u)}function g(t,n){var e=(65535&t)+(65535&n),r=(t>>16)+(n>>16)+(e>>16);return r<<16|65535&e}function m(t,n){return t<<n|t>>>32-n}var b=t("./helpers");n.exports=function(t){return b.hash(t,l,16)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(t,n,e){(function(t,e,r,o,i,u,a,c,s){!function(){var t,e,r=this;t=function(t){for(var n,n,e=new Array(t),r=0;r<t;r++)0==(3&r)&&(n=4294967296*Math.random()),e[r]=n>>>((3&r)<<3)&255;return e},r.crypto&&crypto.getRandomValues&&(e=function(t){var n=new Uint8Array(t);return crypto.getRandomValues(n),n}),n.exports=e||t}()}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(t,n,e){(function(e,r,o,i,u,a,c,s,f){function l(t,n){t[n>>5]|=128<<24-n%32,t[(n+64>>9<<4)+15]=n;for(var e=Array(80),r=1732584193,o=-271733879,i=-1732584194,u=271733878,a=-1009589776,c=0;c<t.length;c+=16){for(var s=r,f=o,l=i,v=u,g=a,m=0;m<80;m++){m<16?e[m]=t[c+m]:e[m]=d(e[m-3]^e[m-8]^e[m-14]^e[m-16],1);var b=y(y(d(r,5),h(m,o,i,u)),y(y(a,e[m]),p(m)));a=u,u=i,i=d(o,30),o=r,r=b}r=y(r,s),o=y(o,f),i=y(i,l),u=y(u,v),a=y(a,g)}return Array(r,o,i,u,a)}function h(t,n,e,r){return t<20?n&e|~n&r:t<40?n^e^r:t<60?n&e|n&r|e&r:n^e^r}function p(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function y(t,n){var e=(65535&t)+(65535&n),r=(t>>16)+(n>>16)+(e>>16);return r<<16|65535&e}function d(t,n){return t<<n|t>>>32-n}var v=t("./helpers");n.exports=function(t){return v.hash(t,l,20,!0)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(t,n,e){(function(e,r,o,i,u,a,c,s,f){var l=t("./helpers"),h=function(t,n){var e=(65535&t)+(65535&n),r=(t>>16)+(n>>16)+(e>>16);return r<<16|65535&e},p=function(t,n){return t>>>n|t<<32-n},y=function(t,n){return t>>>n},d=function(t,n,e){return t&n^~t&e},v=function(t,n,e){return t&n^t&e^n&e},g=function(t){return p(t,2)^p(t,13)^p(t,22)},m=function(t){return p(t,6)^p(t,11)^p(t,25)},b=function(t){return p(t,7)^p(t,18)^y(t,3)},_=function(t){return p(t,17)^p(t,19)^y(t,10)},w=function(t,n){var e,r,o,i,u,a,c,s,f,l,p,y,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),x=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),O=new Array(64);t[n>>5]|=128<<24-n%32,t[(n+64>>9<<4)+15]=n;for(var f=0;f<t.length;f+=16){e=x[0],r=x[1],o=x[2],i=x[3],u=x[4],a=x[5],c=x[6],s=x[7];for(var l=0;l<64;l++)l<16?O[l]=t[l+f]:O[l]=h(h(h(_(O[l-2]),O[l-7]),b(O[l-15])),O[l-16]),p=h(h(h(h(s,m(u)),d(u,a,c)),w[l]),O[l]),y=h(g(e),v(e,r,o)),s=c,c=a,a=u,u=h(i,p),i=o,o=r,r=e,e=h(p,y);x[0]=h(e,x[0]),x[1]=h(r,x[1]),x[2]=h(o,x[2]),x[3]=h(i,x[3]),x[4]=h(u,x[4]),x[5]=h(a,x[5]),x[6]=h(c,x[6]),x[7]=h(s,x[7])}return x};n.exports=function(t){return l.hash(t,w,32,!0)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(t,n,e){(function(t,e,r,o,i,u,a,c,s){function f(){}var t=n.exports={};t.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(n){var e=[];return window.addEventListener("message",function(t){var n=t.source;if((n===window||null===n)&&"process-tick"===t.data&&(t.stopPropagation(),e.length>0)){var r=e.shift();r()}},!0),function(t){e.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=f,t.addListener=f,t.once=f,t.off=f,t.removeListener=f,t.removeAllListeners=f,t.emit=f,t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(t,n,e){(function(t,n,r,o,i,u,a,c,s){e.read=function(t,n,e,r,o){var i,u,a=8*o-r-1,c=(1<<a)-1,s=c>>1,f=-7,l=e?o-1:0,h=e?-1:1,p=t[n+l];for(l+=h,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=256*i+t[n+l],l+=h,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=r;f>0;u=256*u+t[n+l],l+=h,f-=8);if(0===i)i=1-s;else{if(i===c)return u?NaN:(p?-1:1)*(1/0);u+=Math.pow(2,r),i-=s}return(p?-1:1)*u*Math.pow(2,i-r)},e.write=function(t,n,e,r,o,i){var u,a,c,s=8*i-o-1,f=(1<<s)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,y=r?1:-1,d=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,u=f):(u=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-u))<1&&(u--,c*=2),n+=u+l>=1?h/c:h*Math.pow(2,1-l),n*c>=2&&(u++,c/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(n*c-1)*Math.pow(2,o),u+=l):(a=n*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;t[e+p]=255&a,p+=y,a/=256,o-=8);for(u=u<<o|a,s+=o;s>0;t[e+p]=255&u,p+=y,u/=256,s-=8);t[e+p-y]|=128*d}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)})},function(t,n,e){(function(t,n){!function(t,e){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];var r={callback:t,args:n};return d[y]=r,p(y),y++}function o(t){delete d[t]}function i(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}function u(t){if(v)setTimeout(u,0,t);else{var n=d[t];if(n){v=!0;try{i(n)}finally{o(t),v=!1}}}}function a(){p=function(t){n.nextTick(function(){u(t)})}}function c(){if(t.postMessage&&!t.importScripts){var n=!0,e=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=e,n}}function s(){var n="setImmediate$"+Math.random()+"$",e=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(n)&&u(+e.data.slice(n.length))};t.addEventListener?t.addEventListener("message",e,!1):t.attachEvent("onmessage",e),p=function(e){t.postMessage(n+e,"*")}}function f(){var t=new MessageChannel;t.port1.onmessage=function(t){var n=t.data;u(n)},p=function(n){t.port2.postMessage(n)}}function l(){var t=g.documentElement;p=function(n){var e=g.createElement("script");e.onreadystatechange=function(){u(n),e.onreadystatechange=null,t.removeChild(e),e=null},t.appendChild(e)}}function h(){p=function(t){setTimeout(u,0,t)}}if(!t.setImmediate){var p,y=1,d={},v=!1,g=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?a():c()?s():t.MessageChannel?f():g&&"onreadystatechange"in g.createElement("script")?l():h(),m.setImmediate=r,m.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(n,function(){return this}(),e(13))},function(t,n){"use strict";t.exports=2147483647},function(t,n,e){"use strict";var r=e(3),o=e(96);t.exports=function(t){if(t=r(t),t>o)throw new TypeError(t+" exceeds maximum possible timeout");return t}}])});